<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄMiss√£o no Sistema Solar</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100%;
            color: #fff;
            text-transform: uppercase;
            overflow-x: hidden;
        }
        
        * {
            text-transform: uppercase;
        }

        html {
            height: 100%;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100%;
            position: relative;
            z-index: 2;
        }

        .header {
            text-align: center;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border: 2px solid #4facfe;
        }

        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        .control-btn.active {
            background: linear-gradient(45deg, #00b894, #00cec9);
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            margin-bottom: 30px;
        }

        .mission-section {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border: 2px solid #4facfe;
            backdrop-filter: blur(10px);
        }

        .space-view {
            background: radial-gradient(circle at center, #1a1a2e 0%, #0c0c0c 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            color: white;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 2px solid #667eea;
        }

        .current-planet {
            font-size: 4em;
            animation: float 4s ease-in-out infinite;
            filter: drop-shadow(0 0 20px currentColor);
        }

        .planet-info {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9em;
            backdrop-filter: blur(5px);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .question-area {
            background: rgba(248, 249, 250, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #4facfe;
            backdrop-filter: blur(5px);
        }

        .question-text {
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
            margin-bottom: 15px;
            text-align: center;
        }

        .planet-display {
            text-align: center;
            margin: 20px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 120px;
        }

        .planet-name {
            font-size: 1.5em;
            font-weight: bold;
            margin-top: 10px;
            color: #4facfe;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .option-btn {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-align: center;
            color: #fff;
            backdrop-filter: blur(5px);
        }

        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
            border-color: #4facfe;
        }

        .option-btn.correct {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            border-color: #00b894;
        }

        .option-btn.incorrect {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            border-color: #d63031;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .fuel, .score, .planets-visited, .progress {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .fuel {
            border: 3px solid #e17055;
        }

        .score {
            border: 3px solid #00b894;
        }

        .planets-visited {
            border: 3px solid #fdcb6e;
        }

        .progress {
            border: 3px solid #6c5ce7;
        }

        .section-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .fuel-title { color: #e17055; }
        .score-title { color: #00b894; }
        .planets-title { color: #fdcb6e; }
        .progress-title { color: #6c5ce7; }

        .fuel-display {
            font-size: 2.5em;
            font-weight: bold;
            color: #e17055;
            margin: 10px 0;
        }

        .score-display {
            font-size: 2.5em;
            font-weight: bold;
            color: #00b894;
            margin: 10px 0;
        }

        .planets-display {
            font-size: 2.5em;
            font-weight: bold;
            color: #fdcb6e;
            margin: 10px 0;
        }

        .fuel-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }

        .fuel-fill {
            background: linear-gradient(45deg, #e17055, #ff6b6b);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(45deg, #6c5ce7, #a29bfe);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-text {
            font-weight: bold;
            color: #6c5ce7;
            margin-top: 5px;
        }

        .next-btn {
            width: 100%;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .next-btn:disabled {
            background: rgba(255,255,255,0.2);
            cursor: not-allowed;
            transform: none;
        }

        .mission-complete {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-align: center;
            padding: 40px;
            border-radius: 20px;
            margin-top: 20px;
            border: 2px solid #4facfe;
        }

        .final-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
        }

        .restart-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .planet-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }

        .planet-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .planet-badge.visited {
            background: linear-gradient(45deg, #00b894, #00cec9);
            border-color: #00b894;
        }

        /* Estilos para controles de √°udio */
        .audio-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 100;
            backdrop-filter: blur(10px);
            border: 2px solid #4facfe;
        }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .volume-slider {
            width: 100px;
            height: 6px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
        }

        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
            border: none;
        }

        .audio-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .audio-btn:hover {
            background: rgba(79, 172, 254, 0.3);
            border-color: #4facfe;
        }

        /* Estilo para o bot√£o de voltar */
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .current-planet {
                font-size: 3em;
            }
            
            .audio-controls {
                top: 10px;
                right: 10px;
                padding: 10px;
            }
            
            .back-btn {
                top: 10px;
                left: 10px;
                padding: 10px 15px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <!-- Bot√£o para voltar √† plataforma de jogos -->
    <button class="back-btn" onclick="goBack()">
        ‚Üê Voltar
    </button>
    
    <!-- Controles de √°udio -->
    <div class="audio-controls">
        <div class="volume-container">
            <button class="audio-btn" id="mute-btn" onclick="toggleMute()">üîä</button>
            <input type="range" min="0" max="100" value="50" class="volume-slider" id="volume-slider" oninput="changeVolume(this.value)">
        </div>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üöÄ Miss√£o no Sistema Solar üåå</h1>
            <p>Navegue pelo espa√ßo e aprenda sobre os planetas!</p>
        </div>

        <div class="game-controls">
            <button class="control-btn active" id="mode-planets" onclick="setGameMode('planets')">ü™ê Planetas</button>
            <button class="control-btn" id="mode-moons" onclick="setGameMode('moons')">üåô Luas</button>
            <button class="control-btn" id="mode-mixed" onclick="setGameMode('mixed')">üåü Misto</button>
        </div>

        <div class="game-area" id="game-area">
            <div class="mission-section">
                <div class="space-view" id="space-view">
                    <div class="current-planet" id="current-planet">üöÄ</div>
                    <div class="planet-info" id="planet-info">Pronto para a miss√£o!</div>
                </div>
                
                <div class="question-area">
                    <div class="question-text" id="question-text">
                        Clique em "Iniciar Miss√£o" para come√ßar sua jornada espacial!
                    </div>
                    <div class="planet-display" id="planet-display"></div>
                    
                    <div class="options-grid" id="options-grid" style="display: none;">
                        <button class="option-btn" id="option-0" onclick="selectAnswer(0)"></button>
                        <button class="option-btn" id="option-1" onclick="selectAnswer(1)"></button>
                        <button class="option-btn" id="option-2" onclick="selectAnswer(2)"></button>
                        <button class="option-btn" id="option-3" onclick="selectAnswer(3)"></button>
                    </div>
                    
                    <button class="next-btn" id="start-btn" onclick="startMission()">Iniciar Miss√£o</button>
                    <button class="next-btn" id="next-btn" onclick="nextPlanet()" style="display: none;" disabled>Pr√≥ximo Planeta</button>
                </div>
            </div>

            <div class="sidebar">
                <div class="fuel">
                    <div class="section-title fuel-title">
                        ‚õΩ Combust√≠vel
                    </div>
                    <div class="fuel-bar">
                        <div class="fuel-fill" id="fuel-fill" style="width: 100%;"></div>
                    </div>
                    <div class="fuel-display" id="fuel-display">100%</div>
                </div>

                <div class="score">
                    <div class="section-title score-title">
                        üéØ Pontua√ß√£o
                    </div>
                    <div class="score-display" id="score-display">0</div>
                </div>

                <div class="planets-visited">
                    <div class="section-title planets-title">
                        ü™ê Planetas Visitados
                    </div>
                    <div class="planets-display" id="planets-display">0</div>
                    <div class="planet-list" id="planet-list"></div>
                </div>

                <div class="progress">
                    <div class="section-title progress-title">
                        üìä Progresso da Miss√£o
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0 / 10</div>
                </div>
            </div>
        </div>

        <div class="mission-complete" id="mission-complete" style="display: none;">
            <h2>üéâ Miss√£o Completa! üéâ</h2>
            <div class="final-score" id="final-score">0</div>
            <p id="performance-text">Parab√©ns, astronauta!</p>
            <button class="restart-btn" onclick="restartMission()">Nova Miss√£o</button>
        </div>
    </div>

    <script>
        // Elemento de √°udio
        const backgroundMusic = new Audio();
        backgroundMusic.loop = true;
        backgroundMusic.volume = 0.5; // Volume padr√£o
        
        // Tentar carregar o arquivo de √°udio
        try {
            backgroundMusic.src = 'sistema_solar.mp3';
        } catch (error) {
            console.error("Erro ao carregar arquivo de √°udio:", error);
        }

        // Dados dos corpos celestes
        const celestialBodies = [
            { 
                name: 'Merc√∫rio', 
                emoji: '‚òøÔ∏è', 
                type: 'planet',
                facts: {
                    distance: '58 milh√µes de km do Sol',
                    temperature: '427¬∞C de dia, -173¬∞C de noite',
                    day: '88 dias terrestres',
                    moons: '0 luas'
                }
            },
            { 
                name: 'V√™nus', 
                emoji: '‚ôÄÔ∏è', 
                type: 'planet',
                facts: {
                    distance: '108 milh√µes de km do Sol',
                    temperature: '462¬∞C (o mais quente)',
                    day: '243 dias terrestres',
                    moons: '0 luas'
                }
            },
            { 
                name: 'Terra', 
                emoji: 'üåç', 
                type: 'planet',
                facts: {
                    distance: '150 milh√µes de km do Sol',
                    temperature: '15¬∞C em m√©dia',
                    day: '24 horas',
                    moons: '1 lua (Lua)'
                }
            },
            { 
                name: 'Marte', 
                emoji: 'üî¥', 
                type: 'planet',
                facts: {
                    distance: '228 milh√µes de km do Sol',
                    temperature: '-65¬∞C em m√©dia',
                    day: '24,6 horas',
                    moons: '2 luas (Fobos e Deimos)'
                }
            },
            { 
                name: 'J√∫piter', 
                emoji: 'ü™ê', 
                type: 'planet',
                facts: {
                    distance: '778 milh√µes de km do Sol',
                    temperature: '-110¬∞C',
                    day: '9,9 horas',
                    moons: 'Mais de 80 luas'
                }
            },
            { 
                name: 'Saturno', 
                emoji: 'ü™ê', 
                type: 'planet',
                facts: {
                    distance: '1,4 bilh√µes de km do Sol',
                    temperature: '-140¬∞C',
                    day: '10,7 horas',
                    moons: 'Mais de 80 luas'
                }
            },
            { 
                name: 'Urano', 
                emoji: 'üîµ', 
                type: 'planet',
                facts: {
                    distance: '2,9 bilh√µes de km do Sol',
                    temperature: '-195¬∞C',
                    day: '17,2 horas',
                    moons: '27 luas conhecidas'
                }
            },
            { 
                name: 'Netuno', 
                emoji: 'üîµ', 
                type: 'planet',
                facts: {
                    distance: '4,5 bilh√µes de km do Sol',
                    temperature: '-200¬∞C',
                    day: '16,1 horas',
                    moons: '14 luas conhecidas'
                }
            },
            { 
                name: 'Lua', 
                emoji: 'üåô', 
                type: 'moon',
                facts: {
                    distance: '384.400 km da Terra',
                    temperature: '127¬∞C de dia, -173¬∞C de noite',
                    day: '27,3 dias terrestres',
                    parent: 'Sat√©lite da Terra'
                }
            },
            { 
                name: 'Europa', 
                emoji: 'üßä', 
                type: 'moon',
                facts: {
                    distance: '671.000 km de J√∫piter',
                    temperature: '-160¬∞C',
                    day: '3,5 dias terrestres',
                    parent: 'Lua de J√∫piter'
                }
            }
        ];

        // Perguntas sobre os corpos celestes
        const questions = [
            {
                body: 'Merc√∫rio',
                question: 'Qual √© a caracter√≠stica mais marcante de Merc√∫rio?',
                options: ['√â o planeta mais pr√≥ximo do Sol', 'Tem an√©is vis√≠veis', '√â coberto de gelo', 'Tem atmosfera densa'],
                correct: 0
            },
            {
                body: 'Merc√∫rio',
                question: 'Quanto tempo dura um dia em Merc√∫rio?',
                options: ['24 horas', '88 dias terrestres', '12 horas', '365 dias'],
                correct: 1
            },
            {
                body: 'Merc√∫rio',
                question: 'Quantas luas Merc√∫rio possui?',
                options: ['1 lua', '2 luas', '0 luas', '3 luas'],
                correct: 2
            },
            {
                body: 'V√™nus',
                question: 'Por que V√™nus √© o planeta mais quente do Sistema Solar?',
                options: ['Est√° mais pr√≥ximo do Sol', 'Tem efeito estufa extremo', 'Tem vulc√µes ativos', 'Gira muito r√°pido'],
                correct: 1
            },
            {
                body: 'V√™nus',
                question: 'Em que dire√ß√£o V√™nus gira?',
                options: ['Mesma dire√ß√£o da Terra', 'Dire√ß√£o oposta √† Terra', 'N√£o gira', 'Gira de lado'],
                correct: 1
            },
            {
                body: 'Terra',
                question: 'O que torna a Terra √∫nica no Sistema Solar?',
                options: ['√â o maior planeta', 'Tem √°gua l√≠quida e vida', 'Tem a maior lua', '√â o mais colorido'],
                correct: 1
            },
            {
                body: 'Terra',
                question: 'Qual porcentagem da superf√≠cie terrestre √© coberta por √°gua?',
                options: ['50%', '60%', '71%', '80%'],
                correct: 2
            },
            {
                body: 'Marte',
                question: 'Por que Marte √© chamado de "Planeta Vermelho"?',
                options: ['Tem lava vermelha', '√ìxido de ferro na superf√≠cie', 'Atmosfera vermelha', 'Tem cristais vermelhos'],
                correct: 1
            },
            {
                body: 'Marte',
                question: 'Quantas luas Marte possui?',
                options: ['0 luas', '1 lua', '2 luas', '4 luas'],
                correct: 2
            },
            {
                body: 'J√∫piter',
                question: 'Qual √© a caracter√≠stica mais famosa de J√∫piter?',
                options: ['Seus an√©is dourados', 'A Grande Mancha Vermelha', 'Suas auroras azuis', 'Sua superf√≠cie s√≥lida'],
                correct: 1
            },
            {
                body: 'J√∫piter',
                question: 'J√∫piter √© feito principalmente de qu√™?',
                options: ['Rocha', 'Gelo', 'Hidrog√™nio e h√©lio', 'Ferro'],
                correct: 2
            },
            {
                body: 'Saturno',
                question: 'O que torna Saturno especial?',
                options: ['√â o planeta mais quente', 'Tem os an√©is mais vis√≠veis', '√â feito de diamante', 'Tem gravidade zero'],
                correct: 1
            },
            {
                body: 'Saturno',
                question: 'Do que s√£o feitos os an√©is de Saturno?',
                options: ['Poeira e rochas', 'Gelo e rochas', 'Apenas gelo', 'Metal'],
                correct: 1
            },
            {
                body: 'Urano',
                question: 'Qual √© a peculiaridade da rota√ß√£o de Urano?',
                options: ['Gira muito devagar', 'Gira de lado', 'Gira para tr√°s', 'N√£o gira'],
                correct: 1
            },
            {
                body: 'Netuno',
                question: 'Qual √© a caracter√≠stica dos ventos em Netuno?',
                options: ['N√£o h√° ventos', 'S√£o os mais lentos', 'S√£o os mais r√°pidos', 'S√≥ h√° ventos de noite'],
                correct: 2
            },
            {
                body: 'Lua',
                question: 'Como a Lua afeta a Terra?',
                options: ['Controla o clima', 'Influencia as mar√©s', 'Muda as esta√ß√µes', 'Altera a gravidade'],
                correct: 1
            },
            {
                body: 'Lua',
                question: 'Qual √© a temperatura na superf√≠cie da Lua?',
                options: ['Sempre 0¬∞C', '127¬∞C de dia, -173¬∞C de noite', 'Sempre -100¬∞C', 'Igual √† Terra'],
                correct: 1
            },
            {
                body: 'Europa',
                question: 'O que torna Europa especial?',
                options: ['√â a maior lua', 'Tem oceanos subterr√¢neos', '√â feita de ouro', 'Tem atmosfera densa'],
                correct: 1
            }
        ];

        // Vari√°veis do jogo
        let gameMode = 'planets';
        let currentQuestionIndex = 0;
        let score = 0;
        let fuel = 100;
        let planetsVisited = 0;
        let missionProgress = 0;
        let currentQuestions = [];
        let selectedAnswer = null;
        let correctAnswer = null;
        let visitedPlanets = [];
        let gameStarted = false;
        let missionComplete = false;

        // Elementos DOM
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const questionText = document.getElementById('question-text');
        const planetDisplay = document.getElementById('planet-display');
        const optionsGrid = document.getElementById('options-grid');
        const fuelFill = document.getElementById('fuel-fill');
        const fuelDisplay = document.getElementById('fuel-display');
        const scoreDisplay = document.getElementById('score-display');
        const planetsDisplay = document.getElementById('planets-display');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const planetList = document.getElementById('planet-list');
        const missionCompleteDiv = document.getElementById('mission-complete');
        const finalScore = document.getElementById('final-score');
        const performanceText = document.getElementById('performance-text');
        const currentPlanet = document.getElementById('current-planet');
        const planetInfo = document.getElementById('planet-info');
        const spaceView = document.getElementById('space-view');

        // Elementos de √°udio
        const muteBtn = document.getElementById('mute-btn');
        const volumeSlider = document.getElementById('volume-slider');

        // Inicializar estrelas
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Fun√ß√£o para voltar √† plataforma de jogos
        function goBack() {
            // Simula voltar duas p√°ginas no hist√≥rico
            window.history.go(-2);
        }

        // Fun√ß√µes de controle de √°udio
        function toggleMute() {
            if (backgroundMusic.muted) {
                backgroundMusic.muted = false;
                muteBtn.textContent = 'üîä';
            } else {
                backgroundMusic.muted = true;
                muteBtn.textContent = 'üîá';
            }
        }

        function changeVolume(value) {
            backgroundMusic.volume = value / 100;
        }

        // Iniciar m√∫sica de fundo
        function startBackgroundMusic() {
            // Tenta tocar a m√∫sica, mas n√£o for√ßa se o usu√°rio n√£o interagiu
            backgroundMusic.play().catch(e => {
                console.log("Reprodu√ß√£o autom√°tica bloqueada. O usu√°rio precisa interagir primeiro.");
            });
        }

        // Definir modo de jogo
        function setGameMode(mode) {
            gameMode = mode;
            
            // Atualizar bot√µes ativos
            document.querySelectorAll('.control-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`mode-${mode}`).classList.add('active');
            
            // Reiniciar miss√£o se j√° estiver em andamento
            if (gameStarted) {
                restartMission();
            }
        }

        // Iniciar miss√£o
        function startMission() {
            gameStarted = true;
            startBtn.style.display = 'none';
            nextBtn.style.display = 'block';
            optionsGrid.style.display = 'grid';
            
            // Filtrar perguntas baseadas no modo de jogo
            if (gameMode === 'planets') {
                currentQuestions = questions.filter(q => celestialBodies.find(cb => cb.name === q.body)?.type === 'planet');
            } else if (gameMode === 'moons') {
                currentQuestions = questions.filter(q => celestialBodies.find(cb => cb.name === q.body)?.type === 'moon');
            } else {
                currentQuestions = [...questions];
            }
            
            // Embaralhar perguntas
            shuffleArray(currentQuestions);
            
            // Limitar a 10 perguntas
            currentQuestions = currentQuestions.slice(0, 10);
            
            // Iniciar primeira pergunta
            currentQuestionIndex = 0;
            showQuestion();
            
            // Iniciar m√∫sica de fundo
            startBackgroundMusic();
        }

        // Mostrar pergunta atual
        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                completeMission();
                return;
            }
            
            const question = currentQuestions[currentQuestionIndex];
            const body = celestialBodies.find(cb => cb.name === question.body);
            
            // Atualizar interface
            questionText.textContent = question.question;
            currentPlanet.textContent = body.emoji;
            planetInfo.textContent = `Voc√™ est√° visitando ${body.name}`;
            
            // Atualizar op√ß√µes
            for (let i = 0; i < 4; i++) {
                const optionBtn = document.getElementById(`option-${i}`);
                optionBtn.textContent = question.options[i];
                optionBtn.className = 'option-btn';
                optionBtn.disabled = false;
            }
            
            // Resetar sele√ß√£o
            selectedAnswer = null;
            correctAnswer = question.correct;
            nextBtn.disabled = true;
            
            // Atualizar progresso
            updateProgress();
        }

        // Selecionar resposta
        function selectAnswer(index) {
            if (selectedAnswer !== null) return;
            
            selectedAnswer = index;
            const question = currentQuestions[currentQuestionIndex];
            const body = celestialBodies.find(cb => cb.name === question.body);
            
            // Marcar resposta selecionada
            document.getElementById(`option-${index}`).classList.add(index === correctAnswer ? 'correct' : 'incorrect');
            
            // Desabilitar outras op√ß√µes
            for (let i = 0; i < 4; i++) {
                document.getElementById(`option-${i}`).disabled = true;
            }
            
            // Atualizar pontua√ß√£o e combust√≠vel
            if (index === correctAnswer) {
                score += 10;
                fuel = Math.min(fuel + 5, 100);
                scoreDisplay.textContent = score;
            } else {
                fuel -= 15;
            }
            
            // Atualizar combust√≠vel
            fuelFill.style.width = fuel + '%';
            fuelDisplay.textContent = fuel + '%';
            
            // Verificar se o combust√≠vel acabou
            if (fuel <= 0) {
                completeMission();
                return;
            }
            
            // Adicionar planeta √† lista de visitados se ainda n√£o estiver
            if (!visitedPlanets.includes(body.name)) {
                visitedPlanets.push(body.name);
                planetsVisited++;
                planetsDisplay.textContent = planetsVisited;
                
                // Adicionar badge
                const badge = document.createElement('div');
                badge.className = 'planet-badge visited';
                badge.textContent = body.name;
                planetList.appendChild(badge);
            }
            
            // Habilitar bot√£o pr√≥ximo
            nextBtn.disabled = false;
        }

        // Pr√≥xima pergunta
        function nextPlanet() {
            currentQuestionIndex++;
            missionProgress++;
            showQuestion();
        }

        // Atualizar progresso
        function updateProgress() {
            progressFill.style.width = (missionProgress / currentQuestions.length) * 100 + '%';
            progressText.textContent = `${missionProgress} / ${currentQuestions.length}`;
        }

        // Completar miss√£o
        function completeMission() {
            missionComplete = true;
            document.getElementById('game-area').style.display = 'none';
            missionCompleteDiv.style.display = 'block';
            finalScore.textContent = score;
            
            // Determinar texto de desempenho
            let performance = '';
            if (score >= 80) {
                performance = 'Excelente trabalho, astronauta experiente! Voc√™ domina o Sistema Solar!';
            } else if (score >= 60) {
                performance = 'Bom trabalho! Voc√™ conhece bem o Sistema Solar.';
            } else if (score >= 40) {
                performance = 'Miss√£o cumprida! Continue explorando para aprender mais.';
            } else {
                performance = 'Voc√™ completou a miss√£o! Pratique mais para melhorar seu conhecimento.';
            }
            
            performanceText.textContent = performance;
        }

        // Reiniciar miss√£o
        function restartMission() {
            gameStarted = false;
            missionComplete = false;
            score = 0;
            fuel = 100;
            planetsVisited = 0;
            missionProgress = 0;
            visitedPlanets = [];
            
            // Resetar interface
            scoreDisplay.textContent = score;
            fuelDisplay.textContent = fuel + '%';
            fuelFill.style.width = fuel + '%';
            planetsDisplay.textContent = planetsVisited;
            progressFill.style.width = '0%';
            progressText.textContent = '0 / 10';
            planetList.innerHTML = '';
            
            missionCompleteDiv.style.display = 'none';
            document.getElementById('game-area').style.display = 'grid';
            startBtn.style.display = 'block';
            nextBtn.style.display = 'none';
            optionsGrid.style.display = 'none';
            
            questionText.textContent = 'Clique em "Iniciar Miss√£o" para come√ßar sua jornada espacial!';
            currentPlanet.textContent = 'üöÄ';
            planetInfo.textContent = 'Pronto para a miss√£o!';
        }

        // Fun√ß√£o para embaralhar array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Inicializar jogo
        window.onload = function() {
            createStars();
            
            // Adicionar evento de clique em qualquer lugar da p√°gina para ativar o √°udio
            document.body.addEventListener('click', function() {
                // Tenta iniciar a m√∫sica quando o usu√°rio interagir com a p√°gina
                backgroundMusic.play().then(() => {
                    console.log("√Åudio iniciado com sucesso!");
                }).catch(error => {
                    console.log("N√£o foi poss√≠vel iniciar o √°udio automaticamente:", error);
                });
            }, { once: true }); // Executa apenas uma vez
        };
    </script>
</body>

</html>
