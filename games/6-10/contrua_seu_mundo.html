<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè†CONSTRUA SEU MUNDO</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        /* --- ESTILOS GERAIS --- */
        body {
            margin: 0; padding: 0;
            background-color: #2c3e50;
            background-image: radial-gradient(#34495e 15%, transparent 16%), radial-gradient(#34495e 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; overflow: hidden;
            font-family: 'Segoe UI', sans-serif;
        }

        /* --- CABE√áALHO --- */
        header {
            width: 95vw; display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px; padding: 0 10px; box-sizing: border-box; height: 10vh;
        }
        .game-title {
            font-family: 'Fredoka One', cursive; font-size: 40px; color: #FFD700;
            text-transform: uppercase; margin: 0; letter-spacing: 2px;
            text-shadow: 4px 4px 0px #e67e22, -2px -2px 0px #f1c40f;
            animation: floatTitle 3s ease-in-out infinite;
        }
        @keyframes floatTitle { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        
        .btn-back-header {
            background-color: #e74c3c; color: white; border: none; padding: 8px 20px;
            font-size: 16px; font-weight: bold; border-radius: 50px; cursor: pointer;
            box-shadow: 0 4px 0 #c0392b; font-family: 'Fredoka One', cursive;
        }
        .btn-back-header:active { transform: translateY(4px); box-shadow: none; }

        /* --- CONTAINER DO JOGO --- */
        #game-wrapper {
            display: flex; width: 95vw; height: 85vh;
            background-color: #fff; border-radius: 20px;
            overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            position: relative; border: 6px solid #34495e;
        }

        #canvas-container {
            position: relative; flex: 75%;
            background-color: #87CEEB; overflow: hidden;
            border-right: 5px solid #ecf0f1;
        }
        canvas { display: block; }

        #hud {
            position: absolute; top: 20px; left: 20px;
            color: white; font-weight: 800; font-size: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.6);
            background: rgba(0,0,0,0.3); padding: 10px 20px; border-radius: 30px;
            pointer-events: none; z-index: 5;
        }

        /* --- BARRA LATERAL --- */
        #sidebar {
            flex: 25%; padding: 15px; background-color: #f7f9fc;
            display: flex; flex-direction: column; overflow-y: auto; z-index: 6;
        }
        .header-row { display: flex; gap: 10px; align-items: center; margin-bottom: 15px; }
        h3 { margin: 10px 0; color: #34495e; font-size: 1rem; text-transform: uppercase; border-bottom: 2px solid #dfe6e9; padding-bottom: 5px; }
        
        select { 
            flex-grow: 1; padding: 10px; border-radius: 8px; border: 2px solid #bdc3c7; font-weight: bold; cursor: pointer;
        }
        #btn-info {
            width: 40px; height: 40px; border-radius: 50%; border: none;
            background: #3498db; color: white; font-weight: bold; font-size: 20px; cursor: pointer;
        }

        #inventory-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
        .inv-slot {
            background: white; border-radius: 10px; padding: 5px;
            display: flex; flex-direction: column; align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-bottom: 4px solid #ccc;
        }
        .inv-count { font-size: 16px; font-weight: 900; color: #2c3e50; }
        .recipe-preview {
            padding: 8px; background: #ecf0f1; border-radius: 8px; 
            margin-bottom: 5px; font-size: 11px; color: #7f8c8d;
        }

        /* --- MODAIS --- */
        #workshop-overlay, #victory-overlay, #info-modal {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(44, 62, 80, 0.95); display: none;
            justify-content: center; align-items: center; z-index: 100; animation: fadeIn 0.4s;
        }
        @keyframes fadeIn { from{opacity:0} to{opacity:1} }

        .modal-content-box {
            background: rgba(0,0,0,0.4);
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            width: 90%;
            max-width: 500px;
            max-height: 90%; 
            overflow-y: auto; 
            display: flex; flex-direction: column; align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        #workshop-title, .victory-title {
            color: #f1c40f; font-size: 28px; margin: 10px 0;
            text-shadow: 0 2px 0 #000; font-family: 'Fredoka One', cursive;
        }
        
        #workshop-list { width: 100%; display:flex; flex-direction:column; align-items:center; }

        .workshop-btn {
            width: 95%; padding: 12px; margin: 8px;
            background: white; border: none; border-radius: 12px;
            text-align: left; cursor: pointer; display: flex; align-items: center;
            transition: 0.2s; opacity: 0.6; pointer-events: none;
        }
        .workshop-btn.active {
            opacity: 1; pointer-events: all;
            box-shadow: 0 0 15px rgba(46, 204, 113, 0.6); border: 2px solid #2ecc71;
        }
        .workshop-btn.active:hover { transform: scale(1.02); background: #f0fff4; }

        #final-product-img {
            max-width: 180px; max-height: 180px; 
            width: auto; height: auto;
            object-fit: contain;
            animation: pulse 1.5s infinite; margin: 15px auto;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.8));
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        .btn-action {
            padding: 10px 30px; font-size: 16px; border-radius: 25px; border: none;
            cursor: pointer; background: #3498db; color: white; font-weight: bold; margin-top: 15px; margin-bottom: 10px;
            box-shadow: 0 4px 0 #2980b9; transition: 0.1s; font-family: 'Fredoka One';
        }
        .btn-action:active { transform: translateY(4px); box-shadow: none; }
        
        .confetti { position: absolute; width: 10px; height: 10px; background-color: #f00; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }

    </style>
</head>
<body>

<audio id="bg-music" loop>
    <source src="som_fundo.mp3" type="audio/mpeg">
</audio>

<header>
    <button class="btn-back-header" onclick="history.back()">‚¨Ö Voltar</button>
    <h1 class="game-title">CONSTRUA SEU MUNDO</h1>
    <div style="width: 100px;"></div>
</header>

<div id="game-wrapper">
    <div id="canvas-container">
        <canvas id="gameCanvas"></canvas>
        <div id="hud">V√° at√© o final da fase! ‚û°</div>
        
        <div id="info-modal">
            <div class="modal-content-box">
                <h1 style="color:#3498db; font-family: 'Fredoka One';">Como Jogar</h1>
                <p style="font-size: 16px; color: white; text-align: left; line-height: 1.6;">
                    1. Use as <strong>SETAS</strong> para correr.<br>
                    2. <strong>SETA CIMA</strong> 1x = Pulo.<br>
                    3. <strong>SETA CIMA</strong> 2x = Pulo Duplo.<br>
                    4. Pule nas plataformas e pegue materiais!<br>
                    5. Construa algo legal no final.
                </p>
                <button class="btn-action" onclick="closeModal('info-modal')">COME√áAR!</button>
            </div>
        </div>

        <div id="workshop-overlay">
            <div class="modal-content-box">
                <h2 id="workshop-title">O QUE VAMOS CONSTRUIR?</h2>
                <div id="workshop-list"></div>
                <button class="btn-action" style="background:#e74c3c; box-shadow: 0 4px 0 #c0392b;" onclick="resetPlayerPos()">
                    Voltar e pegar mais itens
                </button>
            </div>
        </div>

        <div id="victory-overlay">
            <div class="modal-content-box">
                <h1 class="victory-title">PARAB√âNS!</h1>
                <h3 style="color: #bdc3c7; margin:0;">Voc√™ construiu:</h3>
                
                <img id="final-product-img" src="" alt="Produto Final">
                
                <h2 id="final-product-name" style="color: #f1c40f; margin: 5px 0; text-transform: uppercase;">OBJETO</h2>
                
                <button class="btn-action" onclick="closeModal('victory-overlay'); resetGame();">JOGAR NOVAMENTE</button>
            </div>
        </div>
    </div>

    <div id="sidebar">
        <div class="header-row">
            <select id="category-select">
                <option value="construcao">üèóÔ∏è Constru√ß√£o</option>
                <option value="culinaria">ü•ó Culin√°ria</option>
                <option value="mecanica">üîß Mec√¢nica</option>
            </select>
            <button id="btn-info" onclick="openModal('info-modal')">?</button>
        </div>

        <div class="control-group">
            <h3>Sua Mochila</h3>
            <div id="inventory-grid"></div>
        </div>

        <div class="control-group">
            <h3>Projetos</h3>
            <div id="recipe-preview-list"></div>
            <small style="color:#999; display:block; margin-top:10px; text-align:center">
                Use o Pulo Duplo!
            </small>
        </div>
    </div>
</div>

<script>
    /* --- 1. DADOS E IMAGENS --- */
    const gameData = {
        construcao: {
            buildingImg: 'predio_terreno.png', 
            items: [
                { id: 'madeira', nome: 'Madeira', img: 'item_madeira.png', color: '#e67e22' },
                { id: 'pedra', nome: 'Pedra', img: 'item_pedra.png', color: '#95a5a6' },
                { id: 'cipo', nome: 'Cip√≥', img: 'item_cipo.png', color: '#2ecc71' }
            ],
            recipes: [
                { id: 'cabana', nome: 'Cabana R√∫stica', req: { madeira: 4, cipo: 3 }, finalImg: 'produto_cabana.png' },
                { id: 'muro', nome: 'Muro de Pedra', req: { pedra: 5, madeira: 2 }, finalImg: 'produto_muro.png' }
            ]
        },
        culinaria: {
            buildingImg: 'predio_restaurante.png',
            items: [
                { id: 'alface', nome: 'Alface', img: 'item_alface.png', color: '#27ae60' },
                { id: 'tomate', nome: 'Tomate', img: 'item_tomate.png', color: '#c0392b' },
                { id: 'queijo', nome: 'Queijo', img: 'item_queijo.png', color: '#f1c40f' }
            ],
            recipes: [
                { id: 'salada', nome: 'Salada Tropical', req: { alface: 4, tomate: 3 }, finalImg: 'produto_salada.png' },
                { id: 'pizza', nome: 'Pizza Suprema', req: { tomate: 4, queijo: 4 }, finalImg: 'produto_pizza.png' }
            ]
        },
        mecanica: {
            buildingImg: 'predio_oficina.png',
            items: [
                { id: 'ferro', nome: 'Ferro', img: 'item_ferro.png', color: '#34495e' },
                { id: 'borracha', nome: 'Pneu', img: 'item_borracha.png', color: '#2c3e50' },
                { id: 'motor', nome: 'Motor V8', img: 'item_motor.png', color: '#d35400' }
            ],
            recipes: [
                { id: 'carro', nome: 'Super Carro', req: { ferro: 6, borracha: 4, motor: 1 }, finalImg: 'produto_carro.png' },
                { id: 'robo', nome: 'Rob√¥ Mech', req: { ferro: 8, motor: 3 }, finalImg: 'produto_robo.png' }
            ]
        }
    };

    const imgAvatar = new Image(); imgAvatar.src = 'avatar.png'; 
    const imgBackground = new Image(); imgBackground.src = 'fundo.png'; 
    let currentBuildingImg = new Image(); 

    /* --- 2. CONFIGURA√á√ÉO DO CANVAS --- */
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const container = document.getElementById('canvas-container');

    function resizeCanvas() {
        canvas.width = container.clientWidth;
        canvas.height = container.clientHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    /* --- 3. ESTADOS E F√çSICA --- */
    let currentCategory = 'construcao';
    let playerInventory = {};
    let cameraX = 0;
    let isGamePaused = false;
    let musicStarted = false;

    const LEVEL_LENGTH = 12000;
    const BUILDING_X = LEVEL_LENGTH - 800; 
    const GRAVITY = 0.6;          
    const JUMP_FORCE_1 = -16;     
    const JUMP_FORCE_2 = -18;     
    const SPEED = 8;
    
    // --- AVATAR AUMENTADO AQUI ---
    const player = {
        x: 100, y: 0, worldX: 100, 
        width: 120, height: 135, // TAMANHO AUMENTADO (era 80x90)
        vx: 0, vy: 0, grounded: false,
        jumpCount: 0,
        animTimer: 0
    };

    let platforms = [];
    let items = [];

    /* --- 4. GERA√á√ÉO DE FASE --- */
    function resetGame() {
        isGamePaused = false;
        platforms = [];
        items = [];
        player.worldX = 100;
        player.x = 100;
        player.y = canvas.height - 300;
        player.vy = 0;
        player.jumpCount = 0;
        cameraX = 0;
        
        currentBuildingImg.src = gameData[currentCategory].buildingImg;

        playerInventory = {};
        gameData[currentCategory].items.forEach(i => playerInventory[i.id] = 0);
        updateUI();

        createPlatform(-500, canvas.height - 40, LEVEL_LENGTH + 2000, 40);

        let currentX = 600;
        while (currentX < BUILDING_X - 600) { 
            const level = Math.floor(Math.random() * 3); 
            let yPos = canvas.height - 40; 
            if (level === 1) yPos = canvas.height - 180; 
            if (level === 2) yPos = canvas.height - 300; 

            const width = 250 + Math.random() * 150;
            if (level > 0) createPlatform(currentX, yPos, width, 25);

            let itemY = yPos - 100; 
            spawnItem(currentX + width/2 - 40, itemY);

            currentX += width + 150 + Math.random() * 100; 
        }
    }

    function createPlatform(x, y, w, h) { platforms.push({ x, y, width: w, height: h }); }
    function spawnItem(x, y) {
        const catItems = gameData[currentCategory].items;
        const randomItem = catItems[Math.floor(Math.random() * catItems.length)];
        const imgObj = new Image(); imgObj.src = randomItem.img;
        items.push({ x: x, y: y, width: 80, height: 80, data: randomItem, imgObj: imgObj, floatY: 0, floatOffset: Math.random() * Math.PI * 2 });
    }

    /* --- 5. CONTROLES --- */
    const keys = {};
    
    function startMusic() {
        if (!musicStarted) {
            document.getElementById('bg-music').play().catch(e => console.log("Intera√ß√£o necess√°ria para √°udio"));
            musicStarted = true;
        }
    }

    window.addEventListener('keydown', e => {
        keys[e.key] = true;
        startMusic();
        
        if ((e.key === 'ArrowUp' || e.key === ' ') && !isGamePaused) {
            if (player.grounded) {
                player.vy = JUMP_FORCE_1;
                player.grounded = false;
                player.jumpCount = 1;
            } else if (player.jumpCount < 2) {
                player.vy = JUMP_FORCE_2;
                player.jumpCount = 2;
            }
        }
    });

    window.addEventListener('keyup', e => keys[e.key] = false);

    const selCategory = document.getElementById('category-select');
    selCategory.addEventListener('change', function(e) {
        currentCategory = e.target.value;
        resetGame();
        this.blur(); window.focus();
    });

    /* --- 6. UPDATE --- */
    function update() {
        if (isGamePaused) return;

        if (keys['ArrowRight']) {
            player.vx = SPEED;
            player.animTimer += 0.2; 
        } else if (keys['ArrowLeft']) {
            player.vx = -SPEED;
            player.animTimer += 0.2;
        } else {
            player.vx = 0;
            player.animTimer = 0; 
        }

        player.worldX += player.vx;
        if(player.worldX < 0) player.worldX = 0; 

        let targetCamX = player.worldX - canvas.width * 0.3;
        if (targetCamX < 0) targetCamX = 0;
        if (targetCamX > LEVEL_LENGTH - canvas.width) targetCamX = LEVEL_LENGTH - canvas.width;
        cameraX += (targetCamX - cameraX) * 0.1; 

        player.vy += GRAVITY;
        player.y += player.vy;
        player.grounded = false;

        if (player.vy >= 0) { 
            platforms.forEach(plat => {
                if (player.worldX + player.width > plat.x + 20 && 
                    player.worldX < plat.x + plat.width - 20) {
                    if (player.y + player.height > plat.y && 
                        player.y + player.height < plat.y + 50) {
                        player.y = plat.y - player.height;
                        player.vy = 0;
                        player.grounded = true;
                        player.jumpCount = 0; 
                    }
                }
            });
        }

        if (player.y > canvas.height + 200) {
            player.y = 0; player.vy = 0; player.worldX -= 300; 
            player.jumpCount = 0;
            if(player.worldX < 0) player.worldX = 0;
        }

        for (let i = items.length - 1; i >= 0; i--) {
            let item = items[i];
            item.floatY = Math.sin(Date.now() / 250 + item.floatOffset) * 8; 

            if (player.worldX < item.x + item.width &&
                player.worldX + player.width > item.x &&
                player.y < item.y + item.height + item.floatY &&
                player.y + player.height > item.y + item.floatY) {
                playerInventory[item.data.id]++;
                items.splice(i, 1);
                updateUI();
            }
        }

        if (player.worldX + player.width > BUILDING_X + 100) {
            openWorkshop();
        }
    }

    /* --- 7. DRAW --- */
    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Fundo
        if (imgBackground.complete && imgBackground.naturalWidth > 0) {
            const scale = canvas.height / imgBackground.naturalHeight;
            const scaledWidth = imgBackground.naturalWidth * scale;
            const bgX = (cameraX * 0.5) % scaledWidth;
            ctx.drawImage(imgBackground, -bgX, 0, scaledWidth, canvas.height);
            ctx.drawImage(imgBackground, -bgX + scaledWidth, 0, scaledWidth, canvas.height);
            if (-bgX + scaledWidth < canvas.width)
                ctx.drawImage(imgBackground, -bgX + (scaledWidth*2), 0, scaledWidth, canvas.height);
        } else {
            ctx.fillStyle = "#87CEEB"; ctx.fillRect(0,0, canvas.width, canvas.height);
        }

        ctx.save();
        ctx.translate(-cameraX, 0);

        // Pr√©dio
        const bW = 600; const bH = 600;
        const bY = canvas.height - 40 - bH + 20;
        if (currentBuildingImg.complete && currentBuildingImg.naturalWidth > 0) {
            ctx.drawImage(currentBuildingImg, BUILDING_X, bY, bW, bH);
        } else {
            ctx.fillStyle = "#34495e"; ctx.fillRect(BUILDING_X, bY, bW, bH);
        }

        // Plataformas
        platforms.forEach(plat => {
            ctx.fillStyle = "#795548"; ctx.fillRect(plat.x, plat.y, plat.width, plat.height);
            ctx.fillStyle = "#66BB6A"; ctx.fillRect(plat.x, plat.y, plat.width, 10);
        });

        // Itens
        items.forEach(item => {
            const drawY = item.y + item.floatY;
            ctx.shadowBlur = 15; ctx.shadowColor = "white";
            if (item.imgObj.complete && item.imgObj.naturalWidth > 0) {
                ctx.drawImage(item.imgObj, item.x, drawY, item.width, item.height);
            } else {
                ctx.fillStyle = item.data.color;
                ctx.beginPath(); ctx.arc(item.x + item.width/2, drawY + item.height/2, item.width/2, 0, Math.PI*2); ctx.fill();
            }
            ctx.shadowBlur = 0;
        });

        // --- DESENHO DO JOGADOR ---
        ctx.save();
        const centerX = player.worldX + player.width / 2;
        const centerY = player.y + player.height / 2;
        ctx.translate(centerX, centerY);

        if (player.vx !== 0 && player.grounded) {
            const rotation = Math.sin(player.animTimer) * 0.15; 
            ctx.rotate(rotation);
            const bounce = Math.abs(Math.sin(player.animTimer)) * 5;
            ctx.translate(0, -bounce); 
        }

        if (player.vx < 0) ctx.scale(-1, 1);

        if (imgAvatar.complete && imgAvatar.naturalWidth > 0) {
            ctx.drawImage(imgAvatar, -player.width/2, -player.height/2, player.width, player.height);
        } else {
            ctx.fillStyle = "#e74c3c"; ctx.fillRect(-player.width/2, -player.height/2, player.width, player.height);
        }
        ctx.restore();

        ctx.restore();
    }

    /* --- 8. UI --- */
    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }

    function openWorkshop() {
        if (isGamePaused) return;
        isGamePaused = true;
        
        const catData = gameData[currentCategory];
        const list = document.getElementById('workshop-list');
        list.innerHTML = '';

        catData.recipes.forEach(rec => {
            const btn = document.createElement('button');
            btn.className = 'workshop-btn';
            
            let canCraft = true;
            let reqText = [];
            for (let [id, q] of Object.entries(rec.req)) {
                let iName = catData.items.find(x=>x.id==id).nome;
                reqText.push(`${q} ${iName}`);
                if ((playerInventory[id]||0) < q) canCraft = false;
            }

            if (canCraft) {
                btn.classList.add('active');
                btn.onclick = () => buildSuccess(rec);
            }

            btn.innerHTML = `
                <div style="font-size:35px; margin-right:15px;">üî®</div>
                <div style="flex-grow:1">
                    <strong style="font-size:18px; color:#2c3e50; font-family:'Fredoka One'">${rec.nome}</strong><br>
                    <small style="color:#7f8c8d">Custo: ${reqText.join(', ')}</small>
                </div>
            `;
            
            if(!canCraft) btn.innerHTML += `<div style="color:#e74c3c; font-weight:bold; font-size:12px;">Falta Item</div>`;
            else btn.innerHTML += `<div style="color:#2ecc71; font-weight:bold; font-size:12px;">CONSTRUIR</div>`;

            list.appendChild(btn);
        });
        openModal('workshop-overlay');
    }

    function resetPlayerPos() {
        player.worldX -= 300; 
        closeModal('workshop-overlay');
        isGamePaused = false;
    }

    function buildSuccess(recipe) {
        closeModal('workshop-overlay');
        const vModal = document.getElementById('victory-overlay');
        document.getElementById('final-product-name').innerText = recipe.nome;
        document.getElementById('final-product-img').src = recipe.finalImg;
        vModal.style.display = 'flex';
        fireConfetti();
    }

    function fireConfetti() {
        const colors = ['#e74c3c', '#3498db', '#f1c40f', '#2ecc71', '#9b59b6'];
        for (let i = 0; i < 80; i++) {
            const conf = document.createElement('div');
            conf.className = 'confetti';
            conf.style.left = Math.random() * 100 + 'vw';
            conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            conf.style.animationDuration = (Math.random() * 2 + 2) + 's';
            document.getElementById('victory-overlay').appendChild(conf);
            setTimeout(() => conf.remove(), 4000);
        }
    }

    function updateUI() {
        const elInv = document.getElementById('inventory-grid');
        elInv.innerHTML = '';
        gameData[currentCategory].items.forEach(item => {
            const qtd = playerInventory[item.id] || 0;
            elInv.innerHTML += `
                <div class="inv-slot" style="border-bottom-color:${item.color}">
                    <div style="color:${item.color}; font-size:20px">‚óè</div>
                    <small>${item.nome}</small>
                    <div class="inv-count">${qtd}</div>
                </div>
            `;
        });

        const elPrev = document.getElementById('recipe-preview-list');
        elPrev.innerHTML = '';
        gameData[currentCategory].recipes.forEach(rec => {
            let reqText = [];
            for (let [id, q] of Object.entries(rec.req)) {
                let iName = gameData[currentCategory].items.find(x=>x.id==id).nome;
                reqText.push(`${q} ${iName}`);
            }
            elPrev.innerHTML += `
                <div class="recipe-preview">
                    <strong>${rec.nome}</strong><br>
                    Req: ${reqText.join(', ')}
                </div>
            `;
        });
    }

    function gameLoop() {
        update();
        draw();
        requestAnimationFrame(gameLoop);
    }

    resetGame();
    gameLoop();

</script>
</body>
</html>