<!doctype html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comunicador CAA Infantil</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #FFE5B4 0%, #FFCCCB 50%, #E6E6FA 100%);
            min-height: 100%;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            padding: 30px;
            min-height: calc(100% - 40px);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(45deg, #87CEEB, #98FB98);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .title {
            font-size: 2.5rem;
            color: #2C3E50;
            margin: 0 0 10px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #34495E;
            margin: 0;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .category-btn {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.1rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .category-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .category-btn.active {
            background: linear-gradient(45deg, #FF8E53, #FF6B6B);
            transform: scale(1.05);
        }

        .symbols-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            min-height: 300px;
        }

        .symbol-card {
            background: white;
            border: 3px solid #E8E8E8;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 280px;
            height: 280px;
        }

        .symbol-card.has-accents {
            padding: 10px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 280px;
            height: 280px;
        }

        .accents-row {
            display: flex;
            justify-content: center;
            gap: 3px;
            margin-bottom: 8px;
            flex-wrap: nowrap;
            flex-shrink: 0;
            height: 35px;
            align-items: center;
        }

        .accent-btn {
            background: linear-gradient(45deg, #FFE5B4, #FFCCCB);
            border: 2px solid #FF6B6B;
            border-radius: 6px;
            padding: 3px 5px;
            font-size: 1rem;
            font-weight: bold;
            color: #2C3E50;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 26px;
            font-family: 'Arial Black', Arial, sans-serif;
        }

        .accent-btn:hover {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            transform: scale(1.1);
        }

        .main-letter {
            font-size: 4rem;
            font-weight: bold;
            color: #2C3E50;
            font-family: 'Arial Black', Arial, sans-serif;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 80px;
            flex-shrink: 0;
            line-height: 1;
            width: 100%;
        }

        .libras-container {
            width: 100%;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin: 10px 0;
        }

        .libras-image {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: block;
        }

        .symbol-card:hover {
            transform: translateY(-5px);
            border-color: #4ECDC4;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .symbol-card.clicked {
            animation: pulse 0.6s ease-in-out;
            background: linear-gradient(45deg, #FFE5B4, #FFCCCB);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .symbol-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }

        .symbol-icon.letter {
            font-size: 4rem;
            font-weight: bold;
            color: #2C3E50;
            font-family: 'Arial Black', Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 80px;
            line-height: 1;
        }

        .symbol-text {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2C3E50;
            margin: 0;
            text-align: center;
        }

        .phrase-display {
            background: linear-gradient(45deg, #E8F5E8, #F0F8FF);
            border: 3px solid #4ECDC4;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .phrase-text {
            font-size: 1.3rem;
            color: #2C3E50;
            flex-grow: 1;
            margin-right: 15px;
        }

        .phrase-controls {
            display: flex;
            gap: 10px;
        }

        .control-btn {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .speak-btn {
            background: linear-gradient(45deg, #32CD32, #228B22) !important;
            font-size: 1.1rem;
            padding: 15px 25px;
        }

        .clear-btn {
            background: linear-gradient(45deg, #FF4444, #CC0000) !important;
        }

        .help-btn {
            background: linear-gradient(45deg, #FFA500, #FF8C00) !important;
            font-size: 1rem;
            padding: 12px 20px;
        }

        .back-btn {
            background: linear-gradient(45deg, #6C5CE7, #A29BFE) !important;
            font-size: 1rem;
            padding: 12px 20px;
        }

        .theme-btn {
            background: linear-gradient(45deg, #2C3E50, #34495E) !important;
            font-size: 1rem;
            padding: 12px 20px;
        }

        /* Estilos do Modo Escuro */
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
        }

        body.dark-mode .container {
            background: #000000;
            box-shadow: 0 8px 32px rgba(255,255,255,0.1);
        }

        body.dark-mode .header {
            background: linear-gradient(45deg, #1a1a1a, #2d2d2d);
        }

        body.dark-mode .title {
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(255,215,0,0.3);
        }

        body.dark-mode .subtitle {
            color: #FFD700;
        }

        body.dark-mode .volume-control span {
            color: #FFD700;
        }

        body.dark-mode .symbol-card {
            background: #1a1a1a;
            border: 3px solid #FFD700;
            box-shadow: 0 4px 10px rgba(255,215,0,0.2);
        }

        body.dark-mode .symbol-card:hover {
            border-color: #FFA500;
            box-shadow: 0 8px 25px rgba(255,215,0,0.4);
        }

        body.dark-mode .symbol-card.clicked {
            background: linear-gradient(45deg, #2d2d2d, #1a1a1a);
        }

        body.dark-mode .symbol-text {
            color: #FFD700;
        }

        body.dark-mode .main-letter {
            color: #FFD700;
        }

        body.dark-mode .symbol-icon.letter {
            color: #FFD700;
        }

        body.dark-mode .symbol-icon {
            color: #FFD700;
        }

        body.dark-mode .accent-btn {
            background: linear-gradient(45deg, #2d2d2d, #1a1a1a);
            border: 2px solid #FFD700;
            color: #FFD700;
        }

        body.dark-mode .accent-btn:hover {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #000000;
        }

        body.dark-mode .phrase-display {
            background: linear-gradient(45deg, #1a1a1a, #2d2d2d);
            border: 3px solid #FFD700;
        }

        body.dark-mode .phrase-text {
            color: #FFD700;
        }

        body.dark-mode .volume-slider {
            background: #2d2d2d;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .volume-slider {
            width: 200px;
            height: 8px;
            border-radius: 5px;
            background: #E8E8E8;
            outline: none;
            cursor: pointer;
        }

        .feedback-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #32CD32, #228B22);
            color: white;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feedback-message.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
                margin: 10px;
            }
            
            .title {
                font-size: 2rem;
            }
            
            .symbols-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 10px;
            }
            
            .symbol-icon {
                font-size: 2.5rem;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <header class="header">
    <h1 class="title" id="app-title">Meu Comunicador CAA</h1>
    <p class="subtitle" id="welcome-message">Ol√°! Vamos nos comunicar juntos?</p>
   </header>
   <div class="volume-control"><span>üîä Volume:</span> <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="0.8"> <button class="control-btn help-btn" id="helpBtn">‚ùì ORIENTA√á√ïES</button> <button class="control-btn back-btn" id="backBtn">‚¨ÖÔ∏è VOLTAR</button> <button class="control-btn theme-btn" id="themeBtn">üåô MODO ESCURO</button>
   </div>
   <div class="categories"><button class="category-btn active" data-category="comidas">üçé COMIDAS</button> <button class="category-btn" data-category="sentimentos">üòä SENTIMENTOS</button> <button class="category-btn" data-category="animais">üê∂ ANIMAIS</button> <button class="category-btn" data-category="pessoas">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ PESSOAS</button> <button class="category-btn" data-category="lugares">üè† LUGARES</button> <button class="category-btn" data-category="localizacao">üìç LOCALIZA√á√ÉO</button> <button class="category-btn" data-category="cores">üåà CORES</button> <button class="category-btn" data-category="formas">‚≠ï FORMAS</button> <button class="category-btn" data-category="rotina">‚è∞ ROTINA</button> <button class="category-btn" data-category="corpo">üëã CORPO</button> <button class="category-btn" data-category="estudos">üìö ESTUDOS</button> <button class="category-btn" data-category="cumprimentos">üëã CUMPRIMENTOS E PALAVRAS DE ROTINA</button> <button class="category-btn" data-category="alfabeto">üî§ ALFABETO</button> <button class="category-btn" data-category="numeros">üî¢ N√öMEROS</button>
   </div>
   <div class="phrase-display">
    <div class="phrase-text" id="phraseText">
     CLIQUE NOS S√çMBOLOS PARA FORMAR SUA MENSAGEM!
    </div>
    <div class="phrase-controls"><button class="control-btn speak-btn" id="speakBtn">üîä FALAR</button> <button class="control-btn clear-btn" id="clearBtn">üóëÔ∏è LIMPAR</button>
    </div>
   </div>
   <div class="symbols-grid" id="symbolsGrid"><!-- S√≠mbolos ser√£o inseridos aqui dinamicamente -->
   </div>
  </div>
  <div class="feedback-message" id="feedbackMessage"></div>
  <script>
        // Configura√ß√£o padr√£o
        const defaultConfig = {
            app_title: "Meu Comunicador CAA",
            welcome_message: "Ol√°! Vamos nos comunicar juntos?"
        };

        // Dados dos s√≠mbolos organizados por categoria
        const symbolsData = {
            comidas: [
                { icon: 'üçé', text: 'MA√á√É', audio: 'MA√á√É' },
                { icon: 'üçå', text: 'BANANA', audio: 'BANANA' },
                { icon: 'üçû', text: 'P√ÉO', audio: 'P√ÉO' },
                { icon: 'ü•õ', text: 'LEITE', audio: 'LEITE' },
                { icon: 'üíß', text: '√ÅGUA', audio: '√ÅGUA' },
                { icon: 'üç™', text: 'BISCOITO', audio: 'BISCOITO' },
                { icon: 'üçï', text: 'PIZZA', audio: 'PIZZA' },
                { icon: 'üçù', text: 'MACARR√ÉO', audio: 'MACARR√ÉO' },
                { icon: 'üçö', text: 'ARROZ', audio: 'ARROZ' },
                { icon: 'ü•ï', text: 'CENOURA', audio: 'CENOURA' },
                { icon: 'üçä', text: 'LARANJA', audio: 'LARANJA' },
                { icon: 'üßÄ', text: 'QUEIJO', audio: 'QUEIJO' },
                { icon: 'ü•ñ', text: 'P√ÉOZINHO', audio: 'P√ÉOZINHO' },
                { icon: 'üçØ', text: 'MEL', audio: 'MEL' },
                { icon: 'ü•§', text: 'SUCO', audio: 'SUCO' },
                { icon: 'üç¶', text: 'SORVETE', audio: 'SORVETE' },
                { icon: 'ü•ö', text: 'OVO', audio: 'OVO' },
                { icon: 'üçì', text: 'MORANGO', audio: 'MORANGO' },
                { icon: 'üçá', text: 'UVA', audio: 'UVA' },
                { icon: 'ü•î', text: 'BATATA', audio: 'BATATA' },
                { icon: 'üçÖ', text: 'TOMATE', audio: 'TOMATE' },
                { icon: 'ü•í', text: 'PEPINO', audio: 'PEPINO' },
                { icon: 'üåΩ', text: 'MILHO', audio: 'MILHO' },
                { icon: 'ü•¨', text: 'ALFACE', audio: 'ALFACE' },
                { icon: 'üçó', text: 'FRANGO', audio: 'FRANGO' },
                { icon: 'ü•©', text: 'CARNE', audio: 'CARNE' },
                { icon: 'üéÇ', text: 'BOLO', audio: 'BOLO' },
                { icon: 'üç´', text: 'CHOCOLATE', audio: 'CHOCOLATE' },
                { icon: 'üç¨', text: 'BALA', audio: 'BALA' },
                { icon: 'üç≠', text: 'PIRULITO', audio: 'PIRULITO' },
                { icon: 'üçø', text: 'PIPOCA', audio: 'PIPOCA' },
                { icon: '‚òï', text: 'CAF√â', audio: 'CAF√â' }
            ],
            sentimentos: [
                { icon: 'üòä', text: 'FELIZ', audio: 'FELIZ' },
                { icon: 'üò¢', text: 'TRISTE', audio: 'TRISTE' },
                { icon: 'üò†', text: 'BRAVO', audio: 'BRAVO' },
                { icon: 'üò∞', text: 'COM MEDO', audio: 'COM MEDO' },
                { icon: 'ü§ó', text: 'CARINHOSO', audio: 'CARINHOSO' },
                { icon: '‚ù§Ô∏è', text: 'AMOR', audio: 'AMOR' },
                { icon: 'üëç', text: 'GOSTO', audio: 'GOSTO' },
                { icon: 'üëé', text: 'N√ÉO GOSTO', audio: 'N√ÉO GOSTO' },
                { icon: 'üò¥', text: 'CANSADO', audio: 'CANSADO' },
                { icon: 'üòã', text: 'GOSTOSO', audio: 'GOSTOSO' },
                { icon: 'ü§¢', text: 'RUIM', audio: 'RUIM' },
                { icon: 'üòå', text: 'CALMO', audio: 'CALMO' },
                { icon: 'üòÜ', text: 'RINDO', audio: 'RINDO' },
                { icon: 'üòî', text: 'CHATEADO', audio: 'CHATEADO' },
                { icon: 'ü•∞', text: 'APAIXONADO', audio: 'APAIXONADO' },
                { icon: 'üò§', text: 'IRRITADO', audio: 'IRRITADO' },
                { icon: 'üò±', text: 'ASSUSTADO', audio: 'ASSUSTADO' },
                { icon: 'ü§î', text: 'PENSANDO', audio: 'PENSANDO' },
                { icon: 'üòï', text: 'CONFUSO', audio: 'CONFUSO' },
                { icon: 'ü•≥', text: 'COMEMORANDO', audio: 'COMEMORANDO' },
                { icon: 'üòé', text: 'LEGAL', audio: 'LEGAL' },
                { icon: 'ü§§', text: 'COM FOME', audio: 'COM FOME' },
                { icon: 'üò™', text: 'COM SONO', audio: 'COM SONO' },
                { icon: 'ü§í', text: 'DOENTE', audio: 'DOENTE' },
                { icon: 'üò≠', text: 'CHORANDO', audio: 'CHORANDO' },
                { icon: 'üò°', text: 'MUITO BRAVO', audio: 'MUITO BRAVO' },
                { icon: 'ü•∫', text: 'PEDINDO', audio: 'PEDINDO' },
                { icon: 'üòá', text: 'BONZINHO', audio: 'BONZINHO' }
            ],
            animais: [
                { icon: 'üêï', text: 'CACHORRO', audio: 'CACHORRO' },
                { icon: 'üê±', text: 'GATO', audio: 'GATO' },
                { icon: 'üê¶', text: 'PASSARINHO', audio: 'PASSARINHO' },
                { icon: 'üê†', text: 'PEIXE', audio: 'PEIXE' },
                { icon: 'üê∞', text: 'COELHO', audio: 'COELHO' },
                { icon: 'üê∏', text: 'SAPO', audio: 'SAPO' },
                { icon: 'ü¶ã', text: 'BORBOLETA', audio: 'BORBOLETA' },
                { icon: 'üêù', text: 'ABELHA', audio: 'ABELHA' },
                { icon: 'üêÑ', text: 'VACA', audio: 'VACA' },
                { icon: 'üê∑', text: 'PORCO', audio: 'PORCO' },
                { icon: 'üê¥', text: 'CAVALO', audio: 'CAVALO' },
                { icon: 'üêò', text: 'ELEFANTE', audio: 'ELEFANTE' },
                { icon: 'ü¶Å', text: 'LE√ÉO', audio: 'LE√ÉO' },
                { icon: 'üêØ', text: 'TIGRE', audio: 'TIGRE' },
                { icon: 'üêª', text: 'URSO', audio: 'URSO' },
                { icon: 'üêº', text: 'PANDA', audio: 'PANDA' },
                { icon: 'üêµ', text: 'MACACO', audio: 'MACACO' },
                { icon: 'ü¶í', text: 'GIRAFA', audio: 'GIRAFA' },
                { icon: 'ü¶ì', text: 'ZEBRA', audio: 'ZEBRA' },
                { icon: 'üêä', text: 'JACAR√â', audio: 'JACAR√â' },
                { icon: 'üê¢', text: 'TARTARUGA', audio: 'TARTARUGA' },
                { icon: 'üêç', text: 'COBRA', audio: 'COBRA' },
                { icon: 'üêú', text: 'FORMIGA', audio: 'FORMIGA' },
                { icon: 'ü¶Ü', text: 'PATO', audio: 'PATO' },
                { icon: 'üêî', text: 'GALINHA', audio: 'GALINHA' },
                { icon: 'üêì', text: 'GALO', audio: 'GALO' },
                { icon: 'üêë', text: 'OVELHA', audio: 'OVELHA' },
                { icon: 'ü¶ò', text: 'CANGURU', audio: 'CANGURU' },
                { icon: 'üê∫', text: 'LOBO', audio: 'LOBO' },
                { icon: 'ü¶ä', text: 'RAPOSA', audio: 'RAPOSA' },
                { icon: 'üê®', text: 'COALA', audio: 'COALA' },
                { icon: 'ü¶î', text: 'OURI√áO', audio: 'OURI√áO' }
            ],
            pessoas: [
                { icon: 'üë©', text: 'MAM√ÉE', audio: 'MAM√ÉE' },
                { icon: 'üë®', text: 'PAPAI', audio: 'PAPAI' },
                { icon: 'üëµ', text: 'VOV√ì', audio: 'VOV√ì' },
                { icon: 'üë¥', text: 'VOV√î', audio: 'VOV√î' },
                { icon: 'üë∂', text: 'BEB√ä', audio: 'BEB√ä' },
                { icon: 'üëß', text: 'IRM√É', audio: 'IRM√É' },
                { icon: 'üë¶', text: 'IRM√ÉO', audio: 'IRM√ÉO' },
                { icon: 'üë®‚Äç‚öïÔ∏è', text: 'DOUTOR', audio: 'DOUTOR' },
                { icon: 'üë©‚Äç‚öïÔ∏è', text: 'DOUTORA', audio: 'DOUTORA' },
                { icon: 'üë©‚Äçüè´', text: 'PROFESSORA', audio: 'PROFESSORA' },
                { icon: 'üë®‚Äçüè´', text: 'PROFESSOR', audio: 'PROFESSOR' },
                { icon: 'üëÆ', text: 'POLICIAL', audio: 'POLICIAL' },
                { icon: 'üë´', text: 'AMIGO', audio: 'AMIGO' },
                { icon: 'üë≠', text: 'AMIGA', audio: 'AMIGA' },
                { icon: 'üßë‚Äçüç≥', text: 'COZINHEIRO', audio: 'COZINHEIRO' },
                { icon: 'üë®‚Äçüöí', text: 'BOMBEIRO', audio: 'BOMBEIRO' },
                { icon: 'üë©‚Äçüé®', text: 'ARTISTA', audio: 'ARTISTA' },
                { icon: 'üë®‚Äçüîß', text: 'MEC√ÇNICO', audio: 'MEC√ÇNICO' },
                { icon: 'üë®‚Äçüåæ', text: 'FAZENDEIRO', audio: 'FAZENDEIRO' },
                { icon: 'üë®‚Äç‚úàÔ∏è', text: 'PILOTO', audio: 'PILOTO' },
                { icon: 'üë®‚ÄçüöÄ', text: 'ASTRONAUTA', audio: 'ASTRONAUTA' },
                { icon: 'ü§¥', text: 'PR√çNCIPE', audio: 'PR√çNCIPE' },
                { icon: 'üë∏', text: 'PRINCESA', audio: 'PRINCESA' },
                { icon: 'üßô‚Äç‚ôÇÔ∏è', text: 'M√ÅGICO', audio: 'M√ÅGICO' },
                { icon: 'üßö‚Äç‚ôÄÔ∏è', text: 'FADA', audio: 'FADA' },
                { icon: 'üéÖ', text: 'PAPAI NOEL', audio: 'PAPAI NOEL' },
                { icon: 'ü§°', text: 'PALHA√áO', audio: 'PALHA√áO' },
                { icon: 'üë∑‚Äç‚ôÄÔ∏è', text: 'TRABALHADORA', audio: 'TRABALHADORA' }
            ],
            lugares: [
                { icon: 'üè†', text: 'CASA', audio: 'CASA' },
                { icon: 'üè´', text: 'ESCOLA', audio: 'ESCOLA' },
                { icon: 'üè•', text: 'HOSPITAL', audio: 'HOSPITAL' },
                { icon: 'üè™', text: 'LOJA', audio: 'LOJA' },
                { icon: 'üé™', text: 'PARQUE', audio: 'PARQUE' },
                { icon: 'üèñÔ∏è', text: 'PRAIA', audio: 'PRAIA' },
                { icon: 'üöó', text: 'CARRO', audio: 'CARRO' },
                { icon: 'üöå', text: '√îNIBUS', audio: '√îNIBUS' },
                { icon: 'üõèÔ∏è', text: 'QUARTO', audio: 'QUARTO' },
                { icon: 'üçΩÔ∏è', text: 'COZINHA', audio: 'COZINHA' },
                { icon: 'üöΩ', text: 'BANHEIRO', audio: 'BANHEIRO' },
                { icon: 'üìö', text: 'BIBLIOTECA', audio: 'BIBLIOTECA' },
                { icon: '‚õ™', text: 'IGREJA', audio: 'IGREJA' },
                { icon: 'üèä', text: 'PISCINA', audio: 'PISCINA' },
                { icon: 'üé≠', text: 'TEATRO', audio: 'TEATRO' },
                { icon: 'üèüÔ∏è', text: 'EST√ÅDIO', audio: 'EST√ÅDIO' },
                { icon: 'üè¢', text: 'PR√âDIO', audio: 'PR√âDIO' },
                { icon: 'üè¶', text: 'BANCO', audio: 'BANCO' },
                { icon: 'üõí', text: 'SHOPPING', audio: 'SHOPPING' },
                { icon: 'üè≠', text: 'F√ÅBRICA', audio: 'F√ÅBRICA' },
                { icon: 'üè∞', text: 'CASTELO', audio: 'CASTELO' },
                { icon: 'üåâ', text: 'PONTE', audio: 'PONTE' },
                { icon: 'üöÅ', text: 'HELIC√ìPTERO', audio: 'HELIC√ìPTERO' },
                { icon: '‚úàÔ∏è', text: 'AVI√ÉO', audio: 'AVI√ÉO' },
                { icon: 'üöÇ', text: 'TREM', audio: 'TREM' },
                { icon: 'üö¢', text: 'NAVIO', audio: 'NAVIO' },
                { icon: 'üé°', text: 'RODA GIGANTE', audio: 'RODA GIGANTE' },
                { icon: 'üé¢', text: 'MONTANHA RUSSA', audio: 'MONTANHA RUSSA' }
            ],
            cores: [
                { icon: 'üî¥', text: 'VERMELHO', audio: 'VERMELHO' },
                { icon: 'üîµ', text: 'AZUL', audio: 'AZUL' },
                { icon: 'üü°', text: 'AMARELO', audio: 'AMARELO' },
                { icon: 'üü¢', text: 'VERDE', audio: 'VERDE' },
                { icon: 'üü†', text: 'LARANJA', audio: 'LARANJA' },
                { icon: 'üü£', text: 'ROXO', audio: 'ROXO' },
                { icon: 'üü§', text: 'MARROM', audio: 'MARROM' },
                { icon: '‚ö´', text: 'PRETO', audio: 'PRETO' },
                { icon: '‚ö™', text: 'BRANCO', audio: 'BRANCO' },
                { icon: 'ü©∑', text: 'ROSA', audio: 'ROSA' },
                { icon: 'üåà', text: 'COLORIDO', audio: 'COLORIDO' },
                { icon: 'üîò', text: 'CINZA', audio: 'CINZA' },
                { icon: 'üü®', text: 'AMARELO FORTE', audio: 'AMARELO FORTE' }
            ],
            formas: [
                { icon: '‚≠ï', text: 'C√çRCULO', audio: 'C√çRCULO' },
                { icon: 'üî∫', text: 'TRI√ÇNGULO', audio: 'TRI√ÇNGULO' },
                { icon: 'üü¶', text: 'QUADRADO', audio: 'QUADRADO' },
                { icon: 'üî∂', text: 'LOSANGO', audio: 'LOSANGO' },
                { icon: '‚≠ê', text: 'ESTRELA', audio: 'ESTRELA' },
                { icon: '‚ù§Ô∏è', text: 'CORA√á√ÉO', audio: 'CORA√á√ÉO' },
                { icon: 'üåô', text: 'LUA', audio: 'LUA' },
                { icon: '‚òÄÔ∏è', text: 'SOL', audio: 'SOL' },
                { icon: '‚û°Ô∏è', text: 'SETA', audio: 'SETA' },
                { icon: 'üìè', text: 'RETO', audio: 'RETO' },
                { icon: '‚ñ≠', text: 'RET√ÇNGULO', audio: 'RET√ÇNGULO' },
                { icon: 'üü®', text: 'QUADRADO AMARELO', audio: 'QUADRADO AMARELO' },
                { icon: 'üü©', text: 'QUADRADO VERDE', audio: 'QUADRADO VERDE' },
                { icon: 'üü™', text: 'QUADRADO ROXO', audio: 'QUADRADO ROXO' },
                { icon: 'üü•', text: 'QUADRADO VERMELHO', audio: 'QUADRADO VERMELHO' },
                { icon: 'üîº', text: 'TRI√ÇNGULO PARA CIMA', audio: 'TRI√ÇNGULO PARA CIMA' },
                { icon: 'üîΩ', text: 'TRI√ÇNGULO PARA BAIXO', audio: 'TRI√ÇNGULO PARA BAIXO' }
            ],
            localizacao: [
                { icon: '‚¨ÜÔ∏è', text: 'EM CIMA', audio: 'EM CIMA' },
                { icon: '‚¨áÔ∏è', text: 'EMBAIXO', audio: 'EMBAIXO' },
                { icon: '‚¨ÖÔ∏è', text: 'DO LADO ESQUERDO', audio: 'DO LADO ESQUERDO' },
                { icon: '‚û°Ô∏è', text: 'DO LADO DIREITO', audio: 'DO LADO DIREITO' },
                { icon: '‚è©', text: 'PARA FRENTE', audio: 'PARA FRENTE' },
                { icon: '‚è™', text: 'PARA TR√ÅS', audio: 'PARA TR√ÅS' },
                { icon: 'üéØ', text: 'NO CENTRO', audio: 'NO CENTRO' },
                { icon: 'üîÑ', text: 'AO REDOR', audio: 'AO REDOR' },
                { icon: 'üìç', text: 'AQUI', audio: 'AQUI' },
                { icon: 'üëâ', text: 'ALI', audio: 'ALI' },
                { icon: 'üè†', text: 'DENTRO', audio: 'DENTRO' },
                { icon: 'üö™', text: 'FORA', audio: 'FORA' },
                { icon: 'üîù', text: 'NO ALTO', audio: 'NO ALTO' },
                { icon: 'üîª', text: 'L√Å EMBAIXO', audio: 'L√Å EMBAIXO' },
                { icon: 'üåê', text: 'LONGE', audio: 'LONGE' },
                { icon: 'ü§è', text: 'PERTO', audio: 'PERTO' },
                { icon: '‚ÜóÔ∏è', text: 'DIAGONAL DIREITA CIMA', audio: 'DIAGONAL DIREITA CIMA' },
                { icon: '‚ÜòÔ∏è', text: 'DIAGONAL DIREITA BAIXO', audio: 'DIAGONAL DIREITA BAIXO' },
                { icon: '‚ÜôÔ∏è', text: 'DIAGONAL ESQUERDA BAIXO', audio: 'DIAGONAL ESQUERDA BAIXO' },
                { icon: '‚ÜñÔ∏è', text: 'DIAGONAL ESQUERDA CIMA', audio: 'DIAGONAL ESQUERDA CIMA' },
                { icon: 'üîÄ', text: 'ENTRE', audio: 'ENTRE' },
                { icon: 'üåÄ', text: 'GIRANDO', audio: 'GIRANDO' },
                { icon: 'üîÅ', text: 'REPETINDO', audio: 'REPETINDO' },
                { icon: 'üîÇ', text: 'DE NOVO', audio: 'DE NOVO' }
            ],
            rotina: [
                { icon: 'üåÖ', text: 'BOM DIA', audio: 'BOM DIA' },
                { icon: 'üåô', text: 'BOA NOITE', audio: 'BOA NOITE' },
                { icon: 'üõÅ', text: 'BANHO', audio: 'BANHO' },
                { icon: 'ü¶∑', text: 'ESCOVAR DENTES', audio: 'ESCOVAR DENTES' },
                { icon: 'üçΩÔ∏è', text: 'COMER', audio: 'COMER' },
                { icon: 'üò¥', text: 'DORMIR', audio: 'DORMIR' },
                { icon: 'üëï', text: 'VESTIR ROUPA', audio: 'VESTIR ROUPA' },
                { icon: 'üëü', text: 'CAL√áAR SAPATO', audio: 'CAL√áAR SAPATO' },
                { icon: 'üéí', text: 'IR PARA ESCOLA', audio: 'IR PARA ESCOLA' },
                { icon: 'üì∫', text: 'ASSISTIR TV', audio: 'ASSISTIR TV' },
                { icon: 'üéÆ', text: 'BRINCAR', audio: 'BRINCAR' },
                { icon: 'üìö', text: 'ESTUDAR', audio: 'ESTUDAR' },
                { icon: 'üß∏', text: 'HORA DO BRINQUEDO', audio: 'HORA DO BRINQUEDO' },
                { icon: 'üçº', text: 'MAMADEIRA', audio: 'MAMADEIRA' },
                { icon: 'üíä', text: 'REM√âDIO', audio: 'REM√âDIO' },
                { icon: '‚è∞', text: 'HORA', audio: 'HORA' },
                { icon: 'üåá', text: 'BOA TARDE', audio: 'BOA TARDE' },
                { icon: 'ü•£', text: 'CAF√â DA MANH√É', audio: 'CAF√â DA MANH√É' },
                { icon: 'üçΩÔ∏è', text: 'ALMO√áO', audio: 'ALMO√áO' },
                { icon: 'ü•™', text: 'LANCHE', audio: 'LANCHE' },
                { icon: 'üç≤', text: 'JANTAR', audio: 'JANTAR' },
                { icon: 'üßº', text: 'LAVAR M√ÉOS', audio: 'LAVAR M√ÉOS' },
                { icon: 'üíá', text: 'PENTEAR CABELO', audio: 'PENTEAR CABELO' },
                { icon: 'üß¥', text: 'SHAMPOO', audio: 'SHAMPOO' },
                { icon: '‚è∞', text: 'ACORDAR', audio: 'ACORDAR' },
                { icon: 'üöø', text: 'CHUVEIRO', audio: 'CHUVEIRO' },
                { icon: 'üßª', text: 'PAPEL HIGI√äNICO', audio: 'PAPEL HIGI√äNICO' },
                { icon: 'ü™•', text: 'ESCOVA DE DENTE', audio: 'ESCOVA DE DENTE' },
                { icon: 'üßΩ', text: 'ESPONJA', audio: 'ESPONJA' }
            ],
            corpo: [
                { icon: 'üëã', text: 'M√ÉO', audio: 'M√ÉO' },
                { icon: 'üëÅÔ∏è', text: 'OLHO', audio: 'OLHO' },
                { icon: 'üëÉ', text: 'NARIZ', audio: 'NARIZ' },
                { icon: 'üëÑ', text: 'BOCA', audio: 'BOCA' },
                { icon: 'üëÇ', text: 'ORELHA', audio: 'ORELHA' },
                { icon: 'ü¶∂', text: 'P√â', audio: 'P√â' },
                { icon: 'ü¶µ', text: 'PERNA', audio: 'PERNA' },
                { icon: 'üí™', text: 'BRA√áO', audio: 'BRA√áO' },
                { icon: 'ü§ö', text: 'DEDOS', audio: 'DEDOS' },
                { icon: 'üß†', text: 'CABE√áA', audio: 'CABE√áA' },
                { icon: 'ü¶∑', text: 'DENTE', audio: 'DENTE' },
                { icon: 'üëÖ', text: 'L√çNGUA', audio: 'L√çNGUA' },
                { icon: 'ü´Ä', text: 'CORA√á√ÉO', audio: 'CORA√á√ÉO' },
                { icon: 'ü´Å', text: 'PULM√ÉO', audio: 'PULM√ÉO' },
                { icon: 'ü§≤', text: 'DUAS M√ÉOS', audio: 'DUAS M√ÉOS' },
                { icon: 'üëê', text: 'PALMAS', audio: 'PALMAS' },
                { icon: 'ü¶¥', text: 'OSSO', audio: 'OSSO' },
                { icon: 'ü©∏', text: 'SANGUE', audio: 'SANGUE' },
                { icon: 'ü§±', text: 'BARRIGA', audio: 'BARRIGA' },
                { icon: 'ü´Å', text: 'PEITO', audio: 'PEITO' },
                { icon: 'üëÜ', text: 'DEDO INDICADOR', audio: 'DEDO INDICADOR' },
                { icon: 'üëá', text: 'DEDO PARA BAIXO', audio: 'DEDO PARA BAIXO' },
                { icon: 'üëà', text: 'DEDO ESQUERDA', audio: 'DEDO ESQUERDA' },
                { icon: 'üëâ', text: 'DEDO DIREITA', audio: 'DEDO DIREITA' },
                { icon: 'üëè', text: 'BATER PALMAS', audio: 'BATER PALMAS' },
                { icon: 'ü§ó', text: 'ABRA√áAR', audio: 'ABRA√áAR' },
                { icon: 'üòò', text: 'BEIJAR', audio: 'BEIJAR' },
                { icon: 'ü§ù', text: 'APERTAR M√ÉO', audio: 'APERTAR M√ÉO' }
            ],
            estudos: [
                { icon: 'üìù', text: 'FAZER TAREFA', audio: 'FAZER TAREFA' },
                { icon: 'üåç', text: 'ESTUDAR GEOGRAFIA', audio: 'ESTUDAR GEOGRAFIA' },
                { icon: 'üî¢', text: 'ESTUDAR MATEM√ÅTICA', audio: 'ESTUDAR MATEM√ÅTICA' },
                { icon: 'üé®', text: 'DESENHAR', audio: 'DESENHAR' },
                { icon: 'üìñ', text: 'LER LIVRO', audio: 'LER LIVRO' },
                { icon: '‚úèÔ∏è', text: 'ESCREVER', audio: 'ESCREVER' },
                { icon: 'üß™', text: 'ESTUDAR CI√äNCIAS', audio: 'ESTUDAR CI√äNCIAS' },
                { icon: 'üìö', text: 'ESTUDAR PORTUGU√äS', audio: 'ESTUDAR PORTUGU√äS' },
                { icon: 'üéµ', text: 'ESTUDAR M√öSICA', audio: 'ESTUDAR M√öSICA' },
                { icon: 'üèÉ', text: 'EDUCA√á√ÉO F√çSICA', audio: 'EDUCA√á√ÉO F√çSICA' },
                { icon: 'üñçÔ∏è', text: 'COLORIR', audio: 'COLORIR' },
                { icon: 'üìê', text: 'USAR R√âGUA', audio: 'USAR R√âGUA' },
                { icon: 'üßÆ', text: 'FAZER CONTAS', audio: 'FAZER CONTAS' },
                { icon: 'üìã', text: 'FAZER PROVA', audio: 'FAZER PROVA' },
                { icon: 'üé≠', text: 'ESTUDAR TEATRO', audio: 'ESTUDAR TEATRO' },
                { icon: 'üíª', text: 'USAR COMPUTADOR', audio: 'USAR COMPUTADOR' },
                { icon: 'üñäÔ∏è', text: 'CANETA', audio: 'CANETA' },
                { icon: '‚úÇÔ∏è', text: 'TESOURA', audio: 'TESOURA' },
                { icon: 'üìè', text: 'R√âGUA', audio: 'R√âGUA' },
                { icon: 'üìì', text: 'CADERNO', audio: 'CADERNO' },
                { icon: 'üîç', text: 'LUPA', audio: 'LUPA' },
                { icon: 'üî¨', text: 'MICROSC√ìPIO', audio: 'MICROSC√ìPIO' },
                { icon: 'üß≤', text: '√çM√É', audio: '√çM√É' },
                { icon: '‚úÖ', text: 'ACERTAR', audio: 'ACERTAR' },
                { icon: '‚ùå', text: 'ERRAR', audio: 'ERRAR' },
                { icon: '‚úîÔ∏è', text: 'CORRETO', audio: 'CORRETO' },
                { icon: 'üìä', text: 'GR√ÅFICO', audio: 'GR√ÅFICO' },
                { icon: 'üìÅ', text: 'PASTA', audio: 'PASTA' }
            ],
            cumprimentos: [
                { icon: 'üëã', text: 'OI', audio: 'OI' },
                { icon: 'üëã', text: 'TCHAU', audio: 'TCHAU' },
                { icon: 'üôè', text: 'POR FAVOR', audio: 'POR FAVOR' },
                { icon: 'üòä', text: 'OBRIGADO', audio: 'OBRIGADO' },
                { icon: 'üòî', text: 'DESCULPA', audio: 'DESCULPA' },
                { icon: 'üëç', text: 'SIM', audio: 'SIM' },
                { icon: 'üëé', text: 'N√ÉO', audio: 'N√ÉO' },
                { icon: 'ü§ù', text: 'TUDO BEM', audio: 'TUDO BEM' },
                { icon: '‚ùì', text: 'O QUE √â', audio: 'O QUE √â' },
                { icon: 'üìç', text: 'ONDE', audio: 'ONDE' },
                { icon: '‚è∞', text: 'QUANDO', audio: 'QUANDO' },
                { icon: '‚ùì', text: 'COMO', audio: 'COMO' },
                { icon: 'üÜò', text: 'AJUDA', audio: 'AJUDA' },
                { icon: '‚úã', text: 'PARE', audio: 'PARE' },
                { icon: '‚ñ∂Ô∏è', text: 'VAI', audio: 'VAI' },
                { icon: '‚ù§Ô∏è', text: 'EU TE AMO', audio: 'EU TE AMO' },
                { icon: 'üëã', text: 'OL√Å', audio: 'OL√Å' },
                { icon: 'üòò', text: 'BEIJO', audio: 'BEIJO' },
                { icon: 'ü§ó', text: 'ABRA√áO', audio: 'ABRA√áO' },
                { icon: 'üë§', text: 'EU', audio: 'EU' },
                { icon: 'üë•', text: 'VOC√ä', audio: 'VOC√ä' },
                { icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', text: 'N√ìS', audio: 'N√ìS' },
                { icon: '‚è≥', text: 'ESPERA', audio: 'ESPERA' },
                { icon: '‚úÖ', text: 'PRONTO', audio: 'PRONTO' },
                { icon: '‚ùå', text: 'ERRADO', audio: 'ERRADO' },
                { icon: 'üéâ', text: 'PARAB√âNS', audio: 'PARAB√âNS' },
                { icon: 'ü§∑', text: 'N√ÉO SEI', audio: 'N√ÉO SEI' },
                { icon: 'üëå', text: 'PERFEITO', audio: 'PERFEITO' }
            ],
            alfabeto: [
                { 
                    icon: 'A', 
                    text: 'A', 
                    audio: 'A',
                    libras: 'a.jpg',
                    accents: [
                        { icon: '√Å', text: '√Å', audio: 'A AGUDO' },
                        { icon: '√Ä', text: '√Ä', audio: 'A GRAVE' },
                        { icon: '√Ç', text: '√Ç', audio: 'A CIRCUNFLEXO' },
                        { icon: '√É', text: '√É', audio: 'A TIL' }
                    ]
                },
                { icon: 'B', text: 'B', audio: 'B', libras: 'b.jpg' },
                { icon: 'C', text: 'C', audio: 'C', libras: 'c.jpg' },
                { 
                    icon: '√á', 
                    text: '√á', 
                    audio: 'C CEDILHA',
                    libras: 'c.jpg',
                    isSpecial: true
                },
                { icon: 'D', text: 'D', audio: 'D', libras: 'd.jpg' },
                { 
                    icon: 'E', 
                    text: 'E', 
                    audio: 'E',
                    libras: 'e.jpg',
                    accents: [
                        { icon: '√â', text: '√â', audio: 'E AGUDO' },
                        { icon: '√à', text: '√à', audio: 'E GRAVE' },
                        { icon: '√ä', text: '√ä', audio: 'E CIRCUNFLEXO' }
                    ]
                },
                { icon: 'F', text: 'F', audio: 'F', libras: 'f.jpg' },
                { icon: 'G', text: 'G', audio: 'G', libras: 'g.jpg' },
                { icon: 'H', text: 'H', audio: 'H', libras: 'h.jpg' },
                { 
                    icon: 'I', 
                    text: 'I', 
                    audio: 'I',
                    libras: 'i.jpg',
                    accents: [
                        { icon: '√ç', text: '√ç', audio: 'I AGUDO' },
                        { icon: '√å', text: '√å', audio: 'I GRAVE' },
                        { icon: '√é', text: '√é', audio: 'I CIRCUNFLEXO' }
                    ]
                },
                { icon: 'J', text: 'J', audio: 'J', libras: 'j.jpg' },
                { icon: 'K', text: 'K', audio: 'K', libras: 'k.jpg' },
                { icon: 'L', text: 'L', audio: 'L', libras: 'l.jpg' },
                { icon: 'M', text: 'M', audio: 'M', libras: 'm.jpg' },
                { icon: 'N', text: 'N', audio: 'N', libras: 'n.jpg' },
                { 
                    icon: 'O', 
                    text: 'O', 
                    audio: 'O',
                    libras: 'o.jpg',
                    accents: [
                        { icon: '√ì', text: '√ì', audio: 'O AGUDO' },
                        { icon: '√í', text: '√í', audio: 'O GRAVE' },
                        { icon: '√î', text: '√î', audio: 'O CIRCUNFLEXO' },
                        { icon: '√ï', text: '√ï', audio: 'O TIL' }
                    ]
                },
                { icon: 'P', text: 'P', audio: 'P', libras: 'p.jpg' },
                { icon: 'Q', text: 'Q', audio: 'Q', libras: 'q.jpg' },
                { icon: 'R', text: 'R', audio: 'R', libras: 'r.jpg' },
                { icon: 'S', text: 'S', audio: 'S', libras: 's.jpg' },
                { icon: 'T', text: 'T', audio: 'T', libras: 't.jpg' },
                { 
                    icon: 'U', 
                    text: 'U', 
                    audio: 'U',
                    libras: 'u.jpg',
                    accents: [
                        { icon: '√ö', text: '√ö', audio: 'U AGUDO' },
                        { icon: '√ô', text: '√ô', audio: 'U GRAVE' },
                        { icon: '√õ', text: '√õ', audio: 'U CIRCUNFLEXO' }
                    ]
                },
                { icon: 'V', text: 'V', audio: 'V', libras: 'v.jpg' },
                { icon: 'W', text: 'W', audio: 'W', libras: 'w.jpg' },
                { icon: 'X', text: 'X', audio: 'X', libras: 'x.jpg' },
                { icon: 'Y', text: 'Y', audio: 'Y', libras: 'y.jpg' },
                { icon: 'Z', text: 'Z', audio: 'Z', libras: 'z.jpg' },
                { icon: '‚éµ', text: ' ', audio: 'ESPA√áO', libras: '' },
                { icon: '.', text: '.', audio: 'PONTO FINAL', libras: '' },
                { icon: '!', text: '!', audio: 'PONTO DE EXCLAMA√á√ÉO', libras: '' },
                { icon: '?', text: '?', audio: 'PONTO DE INTERROGA√á√ÉO', libras: '' }
            ],
            numeros: [
                { icon: '0Ô∏è‚É£', text: '0', audio: 'ZERO' },
                { icon: '1Ô∏è‚É£', text: '1', audio: 'UM' },
                { icon: '2Ô∏è‚É£', text: '2', audio: 'DOIS' },
                { icon: '3Ô∏è‚É£', text: '3', audio: 'TR√äS' },
                { icon: '4Ô∏è‚É£', text: '4', audio: 'QUATRO' },
                { icon: '5Ô∏è‚É£', text: '5', audio: 'CINCO' },
                { icon: '6Ô∏è‚É£', text: '6', audio: 'SEIS' },
                { icon: '7Ô∏è‚É£', text: '7', audio: 'SETE' },
                { icon: '8Ô∏è‚É£', text: '8', audio: 'OITO' },
                { icon: '9Ô∏è‚É£', text: '9', audio: 'NOVE' }
            ]
        };

        // Estado da aplica√ß√£o
        let currentPhrase = [];
        let currentVolume = 0.8;
        let currentCategory = 'comidas';
        let isPlayingInstructions = false;
        let isDarkMode = false;

        // Elementos DOM
        const categoryBtns = document.querySelectorAll('.category-btn');
        const symbolsGrid = document.getElementById('symbolsGrid');
        const phraseText = document.getElementById('phraseText');
        const speakBtn = document.getElementById('speakBtn');
        const clearBtn = document.getElementById('clearBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const helpBtn = document.getElementById('helpBtn');
        const feedbackMessage = document.getElementById('feedbackMessage');

        // Inicializa√ß√£o
        function init() {
            setupEventListeners();
            displaySymbols(currentCategory);
            updatePhraseDisplay();
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Bot√µes de categoria
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const category = btn.dataset.category;
                    switchCategory(category);
                });
            });

            // Controles de frase
            speakBtn.addEventListener('click', () => {
                speakPhrase();
            });

            clearBtn.addEventListener('click', () => {
                clearPhrase();
            });

            // Controle de volume
            volumeSlider.addEventListener('input', (e) => {
                currentVolume = parseFloat(e.target.value);
            });

            // Bot√£o de orienta√ß√µes
            helpBtn.addEventListener('click', () => {
                toggleInstructions();
            });

            // Bot√£o de voltar
            const backBtn = document.getElementById('backBtn');
            backBtn.addEventListener('click', () => {
                goBack();
            });

            // Bot√£o de tema
            const themeBtn = document.getElementById('themeBtn');
            themeBtn.addEventListener('click', () => {
                toggleTheme();
            });
        }

        // Alternar categoria
        function switchCategory(category) {
            currentCategory = category;
            
            // Atualizar bot√µes ativos
            categoryBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });

            displaySymbols(category);
            showFeedback(`CATEGORIA: ${getCategoryName(category)}`);
        }

        // Obter nome da categoria
        function getCategoryName(category) {
            const names = {
                comidas: 'COMIDAS',
                sentimentos: 'SENTIMENTOS',
                animais: 'ANIMAIS',
                pessoas: 'PESSOAS',
                lugares: 'LUGARES',
                localizacao: 'LOCALIZA√á√ÉO',
                cores: 'CORES',
                formas: 'FORMAS',
                rotina: 'ROTINA',
                corpo: 'CORPO',
                estudos: 'ESTUDOS',
                cumprimentos: 'CUMPRIMENTOS E PALAVRAS DE ROTINA',
                alfabeto: 'ALFABETO',
                numeros: 'N√öMEROS'
            };
            return names[category] || category;
        }

        // Exibir s√≠mbolos da categoria
        function displaySymbols(category) {
            const symbols = symbolsData[category] || [];
            symbolsGrid.innerHTML = '';

            symbols.forEach((symbol, index) => {
                const symbolCard = document.createElement('div');
                
                // Verificar se √© uma vogal com acentos ou letra especial
                if (category === 'alfabeto' && (symbol.accents || symbol.isSpecial)) {
                    symbolCard.className = 'symbol-card has-accents';
                    
                    let cardContent = '';
                    
                    // Se tem acentos, criar linha de acentos
                    if (symbol.accents) {
                        cardContent += '<div class="accents-row">';
                        symbol.accents.forEach(accent => {
                            cardContent += `<button class="accent-btn" data-accent='${JSON.stringify(accent)}'>${accent.icon}</button>`;
                        });
                        cardContent += '</div>';
                    }
                    
                    // Letra principal sempre vis√≠vel
                    cardContent += `<div class="main-letter">${symbol.icon}</div>`;
                    
                    // Container para imagem de Libras (sempre presente para manter alinhamento)
                    cardContent += `<div class="libras-container">`;
                    if (symbol.libras && symbol.libras.trim() !== '') {
                        cardContent += `<img src="${symbol.libras}" alt="Libras ${symbol.text}" class="libras-image" onerror="this.style.visibility='hidden';">`;
                    }
                    cardContent += `</div>`;
                    
                    // Texto da letra
                    cardContent += `<p class="symbol-text">${symbol.text}</p>`;
                    
                    symbolCard.innerHTML = cardContent;
                    
                    // Event listener para a letra principal
                    symbolCard.addEventListener('click', (e) => {
                        // S√≥ seleciona a letra principal se n√£o clicou em um acento
                        if (!e.target.classList.contains('accent-btn')) {
                            selectSymbol(symbol);
                            animateSymbolClick(symbolCard);
                        }
                    });
                    
                    // Event listeners para os acentos
                    if (symbol.accents) {
                        const accentBtns = symbolCard.querySelectorAll('.accent-btn');
                        accentBtns.forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.stopPropagation(); // Evita que o clique na letra principal seja acionado
                                const accentData = JSON.parse(btn.dataset.accent);
                                selectSymbol(accentData);
                                animateAccentClick(btn);
                            });
                        });
                    }
                } else {
                    // Cartas normais (consoantes, n√∫meros, outros s√≠mbolos)
                    symbolCard.className = 'symbol-card';
                    
                    // Para alfabeto
                    if (category === 'alfabeto') {
                        let iconClass = 'symbol-icon';
                        
                        // Letras mai√∫sculas recebem classe especial
                        if (symbol.icon.length === 1 && /[A-Z]/.test(symbol.icon)) {
                            iconClass = 'symbol-icon letter';
                        }
                        
                        let cardHTML = `<span class="${iconClass}">${symbol.icon}</span>`;
                        
                        // Container para imagem de Libras (sempre presente para manter alinhamento)
                        cardHTML += `<div class="libras-container">`;
                        if (symbol.libras && symbol.libras.trim() !== '') {
                            cardHTML += `<img src="${symbol.libras}" alt="Libras ${symbol.text}" class="libras-image" onerror="this.style.visibility='hidden';">`;
                        }
                        cardHTML += `</div>`;
                        
                        cardHTML += `<p class="symbol-text">${symbol.text}</p>`;
                        symbolCard.innerHTML = cardHTML;
                    } else {
                        // Para outras categorias (n√£o alfabeto)
                        symbolCard.innerHTML = `
                            <span class="symbol-icon">${symbol.icon}</span>
                            <p class="symbol-text">${symbol.text}</p>
                        `;
                    }

                    symbolCard.addEventListener('click', () => {
                        selectSymbol(symbol);
                        animateSymbolClick(symbolCard);
                    });
                }

                symbolsGrid.appendChild(symbolCard);
            });
        }

        // Selecionar s√≠mbolo
        function selectSymbol(symbol) {
            currentPhrase.push(symbol.text);
            updatePhraseDisplay();
            
            // Sempre falar o √°udio do s√≠mbolo, incluindo letras do alfabeto
            speakText(symbol.audio);
            
            showFeedback(`ADICIONADO: ${symbol.text}`);
        }

        // Animar clique no s√≠mbolo
        function animateSymbolClick(element) {
            element.classList.add('clicked');
            setTimeout(() => {
                element.classList.remove('clicked');
            }, 600);
        }

        // Animar clique no acento
        function animateAccentClick(element) {
            const originalTransform = element.style.transform;
            element.style.transform = 'scale(1.3)';
            element.style.background = 'linear-gradient(45deg, #32CD32, #228B22)';
            element.style.color = 'white';
            
            setTimeout(() => {
                element.style.transform = originalTransform;
                element.style.background = '';
                element.style.color = '';
            }, 300);
        }

        // Atualizar exibi√ß√£o da frase
        function updatePhraseDisplay() {
            if (currentPhrase.length === 0) {
                phraseText.textContent = 'CLIQUE NOS S√çMBOLOS PARA FORMAR SUA MENSAGEM!';
            } else {
                // Se a categoria atual √© alfabeto ou acentos, mostrar as letras agrupadas em palavras
                if (currentCategory === 'alfabeto' || currentCategory === 'acentos') {
                    const processedPhrase = processAlphabetPhrase(currentPhrase);
                    phraseText.textContent = processedPhrase;
                } else {
                    phraseText.textContent = currentPhrase.join(' ');
                }
            }
        }

        // Falar frase completa
        function speakPhrase() {
            if (currentPhrase.length === 0) {
                speakText('NENHUMA MENSAGEM PARA FALAR');
                showFeedback('ADICIONE S√çMBOLOS PRIMEIRO!');
                return;
            }

            let phraseToSpeak = '';
            
            // Se a categoria atual √© alfabeto ou acentos, formar palavras
            if (currentCategory === 'alfabeto' || currentCategory === 'acentos') {
                // Verificar se h√° letras consecutivas para formar palavras
                phraseToSpeak = processAlphabetPhrase(currentPhrase);
            } else {
                // Para outras categorias, falar normalmente
                phraseToSpeak = currentPhrase.join(' ');
            }
            
            speakText(phraseToSpeak);
            showFeedback('FALANDO SUA MENSAGEM!');
        }
        
        // Processar frase do alfabeto para formar palavras
        function processAlphabetPhrase(phrase) {
            let result = [];
            let currentWord = '';
            
            for (let i = 0; i < phrase.length; i++) {
                const item = phrase[i];
                
                // Se √© uma letra (tem apenas 1 caractere e √© uma letra ou letra acentuada)
                if (item.length === 1 && /[A-Z√Å√Ä√Ç√É√â√à√ä√ç√å√é√ì√í√î√ï√ö√ô√õ√á√°√†√¢√£√©√®√™√≠√¨√Æ√≥√≤√¥√µ√∫√π√ª√ß]/.test(item)) {
                    currentWord += item;
                } else if (item === ' ') {
                    // Se √© espa√ßo, finalizar palavra atual se existir e adicionar espa√ßo
                    if (currentWord) {
                        result.push(currentWord);
                        currentWord = '';
                    }
                    result.push(' ');
                } else {
                    // Se √© pontua√ß√£o, finalizar palavra atual se existir
                    if (currentWord) {
                        result.push(currentWord);
                        currentWord = '';
                    }
                    result.push(item);
                }
            }
            
            // Adicionar √∫ltima palavra se existir
            if (currentWord) {
                result.push(currentWord);
            }
            
            return result.join('');
        }

        // Limpar frase
        function clearPhrase() {
            currentPhrase = [];
            updatePhraseDisplay();
            showFeedback('MENSAGEM LIMPA!');
        }

        // Voltar para p√°gina anterior
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
                showFeedback('VOLTANDO √Ä P√ÅGINA ANTERIOR...');
            } else {
                showFeedback('NENHUMA P√ÅGINA ANTERIOR ENCONTRADA!');
            }
        }

        // Alternar tema claro/escuro
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            const themeBtn = document.getElementById('themeBtn');
            
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                themeBtn.textContent = '‚òÄÔ∏è MODO CLARO';
                showFeedback('MODO ESCURO ATIVADO!');
                speakText('MODO ESCURO ATIVADO');
            } else {
                document.body.classList.remove('dark-mode');
                themeBtn.textContent = 'üåô MODO ESCURO';
                showFeedback('MODO CLARO ATIVADO!');
                speakText('MODO CLARO ATIVADO');
            }
        }

        // Alternar instru√ß√µes
        function toggleInstructions() {
            if (isPlayingInstructions) {
                // Parar as instru√ß√µes
                speechSynthesis.cancel();
                isPlayingInstructions = false;
                helpBtn.textContent = '‚ùì ORIENTA√á√ïES';
                showFeedback('INSTRU√á√ïES PARADAS!');
            } else {
                // Iniciar as instru√ß√µes
                helpBtn.textContent = 'üîä REPRODUZINDO...';
                const instructions = 'COMO USAR O COMUNICADOR: PRIMEIRO, ESCOLHA UMA CATEGORIA CLICANDO NOS BOT√ïES COLORIDOS. DEPOIS, CLIQUE NOS S√çMBOLOS PARA FORMAR SUA MENSAGEM. QUANDO TERMINAR, CLIQUE EM FALAR PARA OUVIR SUA FRASE. USE O BOT√ÉO LIMPAR PARA APAGAR E COME√áAR DE NOVO. AJUSTE O VOLUME COM A BARRA DESLIZANTE. DIVIRTA-SE COMUNICANDO!';
                speakInstructions(instructions);
                showFeedback('REPRODUZINDO ORIENTA√á√ïES...');
            }
        }

        // Falar instru√ß√µes
        function speakInstructions(text) {
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                isPlayingInstructions = true;

                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'pt-BR';
                utterance.volume = currentVolume;
                utterance.rate = 0.7; // Mais devagar para instru√ß√µes
                utterance.pitch = 1.1;

                // Tentar usar uma voz feminina em portugu√™s
                const voices = speechSynthesis.getVoices();
                const portugueseVoice = voices.find(voice => 
                    voice.lang.includes('pt') && voice.name.toLowerCase().includes('female')
                ) || voices.find(voice => voice.lang.includes('pt'));

                if (portugueseVoice) {
                    utterance.voice = portugueseVoice;
                }

                // Quando terminar de falar
                utterance.onend = () => {
                    isPlayingInstructions = false;
                    helpBtn.textContent = '‚ùì ORIENTA√á√ïES';
                    showFeedback('ORIENTA√á√ïES CONCLU√çDAS!');
                };

                speechSynthesis.speak(utterance);
            }
        }

        // Sintetizar voz
        function speakText(text) {
            if ('speechSynthesis' in window) {
                // Parar qualquer fala anterior
                speechSynthesis.cancel();
                isPlayingInstructions = false;

                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'pt-BR';
                utterance.volume = currentVolume;
                utterance.rate = 0.8; // Velocidade mais lenta para melhor compreens√£o
                utterance.pitch = 1.2; // Tom mais agudo, amig√°vel para crian√ßas

                // Tentar usar uma voz feminina em portugu√™s
                const voices = speechSynthesis.getVoices();
                const portugueseVoice = voices.find(voice => 
                    voice.lang.includes('pt') && voice.name.toLowerCase().includes('female')
                ) || voices.find(voice => voice.lang.includes('pt'));

                if (portugueseVoice) {
                    utterance.voice = portugueseVoice;
                }

                speechSynthesis.speak(utterance);
            }
        }

        // Mostrar feedback visual
        function showFeedback(message) {
            feedbackMessage.textContent = message;
            feedbackMessage.classList.add('show');
            
            setTimeout(() => {
                feedbackMessage.classList.remove('show');
            }, 2000);
        }

        // Aguardar carregamento das vozes
        function waitForVoices() {
            return new Promise((resolve) => {
                if (speechSynthesis.getVoices().length > 0) {
                    resolve();
                } else {
                    speechSynthesis.addEventListener('voiceschanged', resolve, { once: true });
                }
            });
        }

        // Configura√ß√£o do Element SDK
        async function onConfigChange(config) {
            const appTitle = config.app_title || defaultConfig.app_title;
            const welcomeMessage = config.welcome_message || defaultConfig.welcome_message;
            
            document.getElementById('app-title').textContent = appTitle;
            document.getElementById('welcome-message').textContent = welcomeMessage;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ['app_title', config.app_title || defaultConfig.app_title],
                ['welcome_message', config.welcome_message || defaultConfig.welcome_message]
            ]);
        }

        // Inicializar aplica√ß√£o
        document.addEventListener('DOMContentLoaded', async () => {
            await waitForVoices();
            init();
            
            // Inicializar Element SDK
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }
            
            // Mensagem de boas-vindas
            setTimeout(() => {
                speakText('OL√Å! BEM-VINDO AO SEU COMUNICADOR! CLIQUE NOS S√çMBOLOS PARA SE COMUNICAR!');
                showFeedback('BEM-VINDO! COMECE CLICANDO NOS S√çMBOLOS!');
            }, 1000);
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99c8427bf4dd8b1e',t:'MTc2MjgwNjEyMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>