<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunicador CAA - Jogo Interativo</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4, #45B7D1, #96CEB4, #FFEAA7, #DDA0DD, #98D8C8);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            color: #333;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 3px solid rgba(255,255,255,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            color: #718096;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .category-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-button {
            background: #4299e1;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3);
        }

        .tab-button:hover {
            background: #3182ce;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(66, 153, 225, 0.4);
        }

        .tab-button.active {
            background: #2d3748;
            box-shadow: 0 4px 15px rgba(45, 55, 72, 0.3);
        }

        .communication-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .symbol-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
            border: 4px solid #e2e8f0;
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            min-height: 160px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .symbol-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--card-color, #4ECDC4);
            opacity: 0.1;
            transition: opacity 0.3s ease;
            z-index: 0;
        }

        .symbol-card > * {
            position: relative;
            z-index: 1;
        }

        .symbol-card:hover {
            border-color: var(--card-color, #4299e1);
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.25);
        }

        .symbol-card:hover::before {
            opacity: 0.2;
        }

        .symbol-card.clicked {
            border-color: var(--card-color, #48bb78);
            transform: scale(1.05);
            animation: colorPulse 0.8s ease-in-out;
        }

        .symbol-card.clicked::before {
            opacity: 0.3;
        }

        @keyframes colorPulse {
            0% { transform: scale(1.05); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1.05); }
            75% { transform: scale(1.08); }
            100% { transform: scale(1.05); }
        }

        .symbol-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }

        .symbol-text {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .symbol-description {
            font-size: 0.9rem;
            color: #718096;
            font-style: italic;
        }

        .message-display {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border: 4px solid #4ECDC4;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .message-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .message-text {
            font-size: 1.5rem;
            color: #2d3748;
            text-align: center;
            font-weight: bold;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-button {
            background: #48bb78;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
        }

        .control-button:hover {
            background: #38a169;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(72, 187, 120, 0.4);
        }

        .control-button.clear {
            background: #f56565;
            box-shadow: 0 4px 15px rgba(245, 101, 101, 0.3);
        }

        .control-button.clear:hover {
            background: #e53e3e;
            box-shadow: 0 6px 20px rgba(245, 101, 101, 0.4);
        }

        .hidden {
            display: none;
        }

        .audio-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4299e1;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        .audio-indicator.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .communication-board {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
            }
            
            .symbol-card {
                padding: 15px;
                min-height: 140px;
            }
            
            .symbol-icon {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="audio-indicator" id="audioIndicator">üîä REPRODUZINDO...</div>
    
    <div class="container">
        <header class="header">
            <h1>üó£Ô∏è Comunicador CAA</h1>
            <p class="subtitle">Clique nos s√≠mbolos para se comunicar!</p>
        </header>

        <div class="category-tabs">
            <button class="tab-button active" data-category="necessidades">NECESSIDADES</button>
            <button class="tab-button" data-category="sentimentos">SENTIMENTOS</button>
            <button class="tab-button" data-category="atividades">ATIVIDADES</button>
            <button class="tab-button" data-category="comida">COMIDA</button>
            <button class="tab-button" data-category="pessoas">PESSOAS</button>
            <button class="tab-button" data-category="lugares">LUGARES</button>
            <button class="tab-button" data-category="animais">ANIMAIS</button>
            <button class="tab-button" data-category="cores">CORES</button>
        </div>

        <div class="message-display">
            <div class="message-text" id="messageDisplay">CLIQUE NOS S√çMBOLOS PARA FORMAR SUA MENSAGEM</div>
        </div>

        <div class="communication-board" id="communicationBoard">
            <!-- Os s√≠mbolos ser√£o inseridos aqui pelo JavaScript -->
        </div>

        <div class="controls">
            <button class="control-button" id="speakButton">üîä FALAR MENSAGEM</button>
            <button class="control-button clear" id="clearButton">üóëÔ∏è LIMPAR</button>
        </div>
    </div>

    <script>
        // Dados dos s√≠mbolos organizados por categoria
        const symbolData = {
            necessidades: [
                { icon: 'üöΩ', text: 'BANHEIRO', description: 'PRECISO IR AO BANHEIRO', audio: 'preciso ir ao banheiro', color: '#FF6B6B' },
                { icon: 'üíß', text: '√ÅGUA', description: 'QUERO √ÅGUA', audio: 'quero √°gua', color: '#4ECDC4' },
                { icon: 'üò¥', text: 'DORMIR', description: 'ESTOU COM SONO', audio: 'estou com sono', color: '#45B7D1' },
                { icon: 'ü§í', text: 'DOENTE', description: 'N√ÉO ME SINTO BEM', audio: 'n√£o me sinto bem', color: '#FFA07A' },
                { icon: 'üÜò', text: 'AJUDA', description: 'PRECISO DE AJUDA', audio: 'preciso de ajuda', color: '#FF4757' },
                { icon: 'üîá', text: 'SIL√äNCIO', description: 'QUERO SIL√äNCIO', audio: 'quero sil√™ncio', color: '#A55EEA' },
                { icon: 'üçΩÔ∏è', text: 'COMER', description: 'QUERO COMER', audio: 'quero comer', color: '#26DE81' },
                { icon: 'üßº', text: 'LAVAR', description: 'QUERO LAVAR AS M√ÉOS', audio: 'quero lavar as m√£os', color: '#74B9FF' },
                { icon: 'üå°Ô∏è', text: 'FEBRE', description: 'ESTOU COM FEBRE', audio: 'estou com febre', color: '#FD79A8' },
                { icon: 'üíä', text: 'REM√âDIO', description: 'PRECISO DO REM√âDIO', audio: 'preciso do rem√©dio', color: '#FDCB6E' }
            ],
            sentimentos: [
                { icon: 'üòä', text: 'FELIZ', description: 'ESTOU FELIZ', audio: 'estou feliz', color: '#FFD93D' },
                { icon: 'üò¢', text: 'TRISTE', description: 'ESTOU TRISTE', audio: 'estou triste', color: '#74B9FF' },
                { icon: 'üò†', text: 'BRAVO', description: 'ESTOU BRAVO', audio: 'estou bravo', color: '#FF6B6B' },
                { icon: 'üò∞', text: 'MEDO', description: 'ESTOU COM MEDO', audio: 'estou com medo', color: '#A55EEA' },
                { icon: '‚ù§Ô∏è', text: 'AMOR', description: 'EU TE AMO', audio: 'eu te amo', color: '#FF3838' },
                { icon: 'üëç', text: 'GOSTO', description: 'EU GOSTO', audio: 'eu gosto', color: '#26DE81' },
                { icon: 'üò¥', text: 'CANSADO', description: 'ESTOU CANSADO', audio: 'estou cansado', color: '#636E72' },
                { icon: 'ü§ó', text: 'CARINHO', description: 'QUERO CARINHO', audio: 'quero carinho', color: '#FD79A8' },
                { icon: 'üò§', text: 'CHATEADO', description: 'ESTOU CHATEADO', audio: 'estou chateado', color: '#E17055' },
                { icon: 'ü•≥', text: 'ANIMADO', description: 'ESTOU ANIMADO', audio: 'estou animado', color: '#00B894' },
                { icon: 'üòå', text: 'CALMO', description: 'ESTOU CALMO', audio: 'estou calmo', color: '#81ECEC' },
                { icon: 'ü§î', text: 'PENSANDO', description: 'ESTOU PENSANDO', audio: 'estou pensando', color: '#FDCB6E' }
            ],
            atividades: [
                { icon: 'üéÆ', text: 'BRINCAR', description: 'QUERO BRINCAR', audio: 'quero brincar', color: '#FF6B6B' },
                { icon: 'üìö', text: 'ESTUDAR', description: 'VAMOS ESTUDAR', audio: 'vamos estudar', color: '#4ECDC4' },
                { icon: 'üéµ', text: 'M√öSICA', description: 'QUERO OUVIR M√öSICA', audio: 'quero ouvir m√∫sica', color: '#45B7D1' },
                { icon: 'üì∫', text: 'TV', description: 'QUERO ASSISTIR TV', audio: 'quero assistir TV', color: '#FFA07A' },
                { icon: 'üöó', text: 'PASSEAR', description: 'QUERO PASSEAR', audio: 'quero passear', color: '#26DE81' },
                { icon: 'üõå', text: 'DESCANSAR', description: 'QUERO DESCANSAR', audio: 'quero descansar', color: '#A55EEA' },
                { icon: 'üèÉ', text: 'CORRER', description: 'QUERO CORRER', audio: 'quero correr', color: '#FF4757' },
                { icon: 'üé®', text: 'DESENHAR', description: 'QUERO DESENHAR', audio: 'quero desenhar', color: '#FD79A8' },
                { icon: '‚öΩ', text: 'FUTEBOL', description: 'QUERO JOGAR FUTEBOL', audio: 'quero jogar futebol', color: '#26DE81' },
                { icon: 'üèä', text: 'NADAR', description: 'QUERO NADAR', audio: 'quero nadar', color: '#74B9FF' },
                { icon: 'üö¥', text: 'BICICLETA', description: 'QUERO ANDAR DE BICICLETA', audio: 'quero andar de bicicleta', color: '#FDCB6E' },
                { icon: 'üìñ', text: 'LER', description: 'QUERO LER', audio: 'quero ler', color: '#E17055' }
            ],
            comida: [
                { icon: 'üçé', text: 'FRUTA', description: 'QUERO FRUTA', audio: 'quero fruta', color: '#FF6B6B' },
                { icon: 'üçû', text: 'P√ÉO', description: 'QUERO P√ÉO', audio: 'quero p√£o', color: '#FDCB6E' },
                { icon: 'ü•õ', text: 'LEITE', description: 'QUERO LEITE', audio: 'quero leite', color: '#74B9FF' },
                { icon: 'üç´', text: 'DOCE', description: 'QUERO DOCE', audio: 'quero doce', color: '#A55EEA' },
                { icon: 'üçï', text: 'PIZZA', description: 'QUERO PIZZA', audio: 'quero pizza', color: '#FF4757' },
                { icon: 'ü•§', text: 'SUCO', description: 'QUERO SUCO', audio: 'quero suco', color: '#26DE81' },
                { icon: 'üçå', text: 'BANANA', description: 'QUERO BANANA', audio: 'quero banana', color: '#FFD93D' },
                { icon: 'üç™', text: 'BISCOITO', description: 'QUERO BISCOITO', audio: 'quero biscoito', color: '#E17055' },
                { icon: 'üßÄ', text: 'QUEIJO', description: 'QUERO QUEIJO', audio: 'quero queijo', color: '#FDCB6E' },
                { icon: 'ü•ï', text: 'CENOURA', description: 'QUERO CENOURA', audio: 'quero cenoura', color: '#FFA07A' },
                { icon: 'üçö', text: 'ARROZ', description: 'QUERO ARROZ', audio: 'quero arroz', color: '#DDD' },
                { icon: 'üçù', text: 'MACARR√ÉO', description: 'QUERO MACARR√ÉO', audio: 'quero macarr√£o', color: '#FFD93D' },
                { icon: 'ü•©', text: 'CARNE', description: 'QUERO CARNE', audio: 'quero carne', color: '#E17055' },
                { icon: 'ü•ó', text: 'SALADA', description: 'QUERO SALADA', audio: 'quero salada', color: '#26DE81' },
                { icon: 'üç¶', text: 'SORVETE', description: 'QUERO SORVETE', audio: 'quero sorvete', color: '#FD79A8' }
            ],
            pessoas: [
                { icon: 'üë©', text: 'MAM√ÉE', description: 'QUERO A MAM√ÉE', audio: 'quero a mam√£e', color: '#FD79A8' },
                { icon: 'üë®', text: 'PAPAI', description: 'QUERO O PAPAI', audio: 'quero o papai', color: '#74B9FF' },
                { icon: 'üëµ', text: 'VOV√ì', description: 'QUERO A VOV√ì', audio: 'quero a vov√≥', color: '#A55EEA' },
                { icon: 'üë¥', text: 'VOV√î', description: 'QUERO O VOV√î', audio: 'quero o vov√¥', color: '#636E72' },
                { icon: 'üë®‚Äç‚öïÔ∏è', text: 'DOUTOR', description: 'QUERO O DOUTOR', audio: 'quero o doutor', color: '#26DE81' },
                { icon: 'üë®‚Äçüè´', text: 'PROFESSOR', description: 'QUERO O PROFESSOR', audio: 'quero o professor', color: '#FDCB6E' },
                { icon: 'üë∂', text: 'BEB√ä', description: 'QUERO VER O BEB√ä', audio: 'quero ver o beb√™', color: '#FFD93D' },
                { icon: 'üëß', text: 'MENINA', description: 'QUERO BRINCAR COM A MENINA', audio: 'quero brincar com a menina', color: '#FF6B6B' },
                { icon: 'üë¶', text: 'MENINO', description: 'QUERO BRINCAR COM O MENINO', audio: 'quero brincar com o menino', color: '#4ECDC4' },
                { icon: 'üë®‚Äçüç≥', text: 'COZINHEIRO', description: 'QUERO O COZINHEIRO', audio: 'quero o cozinheiro', color: '#E17055' },
                { icon: 'üëÆ', text: 'POLICIAL', description: 'QUERO O POLICIAL', audio: 'quero o policial', color: '#45B7D1' },
                { icon: 'üßë‚Äçüöí', text: 'BOMBEIRO', description: 'QUERO O BOMBEIRO', audio: 'quero o bombeiro', color: '#FF4757' }
            ],
            lugares: [
                { icon: 'üè†', text: 'CASA', description: 'QUERO IR PARA CASA', audio: 'quero ir para casa', color: '#26DE81' },
                { icon: 'üè´', text: 'ESCOLA', description: 'QUERO IR PARA ESCOLA', audio: 'quero ir para escola', color: '#74B9FF' },
                { icon: 'üè•', text: 'HOSPITAL', description: 'QUERO IR AO HOSPITAL', audio: 'quero ir ao hospital', color: '#FF6B6B' },
                { icon: 'üè™', text: 'LOJA', description: 'QUERO IR √Ä LOJA', audio: 'quero ir √† loja', color: '#FDCB6E' },
                { icon: 'üèûÔ∏è', text: 'PARQUE', description: 'QUERO IR AO PARQUE', audio: 'quero ir ao parque', color: '#26DE81' },
                { icon: 'üèñÔ∏è', text: 'PRAIA', description: 'QUERO IR √Ä PRAIA', audio: 'quero ir √† praia', color: '#4ECDC4' },
                { icon: 'üé™', text: 'CIRCO', description: 'QUERO IR AO CIRCO', audio: 'quero ir ao circo', color: '#FF4757' },
                { icon: 'üé¢', text: 'PARQUE DE DIVERS√ïES', description: 'QUERO IR AO PARQUE DE DIVERS√ïES', audio: 'quero ir ao parque de divers√µes', color: '#A55EEA' }
            ],
            animais: [
                { icon: 'üê∂', text: 'CACHORRO', description: 'QUERO VER O CACHORRO', audio: 'quero ver o cachorro', color: '#E17055' },
                { icon: 'üê±', text: 'GATO', description: 'QUERO VER O GATO', audio: 'quero ver o gato', color: '#FFA07A' },
                { icon: 'üê¶', text: 'P√ÅSSARO', description: 'QUERO VER O P√ÅSSARO', audio: 'quero ver o p√°ssaro', color: '#74B9FF' },
                { icon: 'üê†', text: 'PEIXE', description: 'QUERO VER O PEIXE', audio: 'quero ver o peixe', color: '#4ECDC4' },
                { icon: 'üê∞', text: 'COELHO', description: 'QUERO VER O COELHO', audio: 'quero ver o coelho', color: '#FD79A8' },
                { icon: 'üêª', text: 'URSO', description: 'QUERO VER O URSO', audio: 'quero ver o urso', color: '#636E72' },
                { icon: 'ü¶Å', text: 'LE√ÉO', description: 'QUERO VER O LE√ÉO', audio: 'quero ver o le√£o', color: '#FDCB6E' },
                { icon: 'üêò', text: 'ELEFANTE', description: 'QUERO VER O ELEFANTE', audio: 'quero ver o elefante', color: '#A55EEA' }
            ],
            cores: [
                { icon: 'üî¥', text: 'VERMELHO', description: 'COR VERMELHA', audio: 'cor vermelha', color: '#FF6B6B' },
                { icon: 'üîµ', text: 'AZUL', description: 'COR AZUL', audio: 'cor azul', color: '#74B9FF' },
                { icon: 'üü¢', text: 'VERDE', description: 'COR VERDE', audio: 'cor verde', color: '#26DE81' },
                { icon: 'üü°', text: 'AMARELO', description: 'COR AMARELA', audio: 'cor amarela', color: '#FFD93D' },
                { icon: 'üü£', text: 'ROXO', description: 'COR ROXA', audio: 'cor roxa', color: '#A55EEA' },
                { icon: 'üü†', text: 'LARANJA', description: 'COR LARANJA', audio: 'cor laranja', color: '#FFA07A' },
                { icon: 'üü§', text: 'MARROM', description: 'COR MARROM', audio: 'cor marrom', color: '#E17055' },
                { icon: '‚ö´', text: 'PRETO', description: 'COR PRETA', audio: 'cor preta', color: '#636E72' }
            ]
        };

        // Vari√°veis globais
        let currentCategory = 'necessidades';
        let currentMessage = [];
        let speechSynthesis = window.speechSynthesis;

        // Elementos DOM
        const tabButtons = document.querySelectorAll('.tab-button');
        const communicationBoard = document.getElementById('communicationBoard');
        const messageDisplay = document.getElementById('messageDisplay');
        const speakButton = document.getElementById('speakButton');
        const clearButton = document.getElementById('clearButton');
        const audioIndicator = document.getElementById('audioIndicator');

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            renderSymbols();
            updateMessageDisplay();
        });

        // Configurar event listeners
        function setupEventListeners() {
            // Tabs de categoria
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    switchCategory(this.dataset.category);
                });
            });

            // Bot√µes de controle
            speakButton.addEventListener('click', speakCurrentMessage);
            clearButton.addEventListener('click', clearMessage);
        }

        // Trocar categoria
        function switchCategory(category) {
            currentCategory = category;
            
            // Atualizar bot√µes ativos
            tabButtons.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            // Renderizar novos s√≠mbolos
            renderSymbols();
        }

        // Renderizar s√≠mbolos da categoria atual
        function renderSymbols() {
            const symbols = symbolData[currentCategory];
            communicationBoard.innerHTML = '';

            symbols.forEach((symbol, index) => {
                const symbolCard = document.createElement('div');
                symbolCard.className = 'symbol-card';
                symbolCard.style.setProperty('--card-color', symbol.color);
                symbolCard.innerHTML = `
                    <span class="symbol-icon">${symbol.icon}</span>
                    <div class="symbol-text">${symbol.text}</div>
                    <div class="symbol-description">${symbol.description}</div>
                `;
                
                symbolCard.addEventListener('click', function() {
                    selectSymbol(symbol);
                });

                communicationBoard.appendChild(symbolCard);
            });
        }

        // Selecionar s√≠mbolo
        function selectSymbol(symbol) {
            // Adicionar √† mensagem atual
            currentMessage.push(symbol);
            
            // Efeito visual no cart√£o
            event.currentTarget.classList.add('clicked');
            setTimeout(() => {
                event.currentTarget.classList.remove('clicked');
            }, 600);
            
            // Atualizar display da mensagem
            updateMessageDisplay();
            
            // Falar o s√≠mbolo imediatamente
            speakText(symbol.audio);
        }

        // Atualizar display da mensagem
        function updateMessageDisplay() {
            if (currentMessage.length === 0) {
                messageDisplay.textContent = 'CLIQUE NOS S√çMBOLOS PARA FORMAR SUA MENSAGEM';
            } else {
                const messageText = currentMessage.map(symbol => symbol.text).join(' + ');
                messageDisplay.textContent = messageText;
            }
        }

        // Falar texto usando s√≠ntese de voz
        function speakText(text) {
            // Parar qualquer fala anterior
            speechSynthesis.cancel();
            
            // Criar nova utterance
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'pt-BR';
            utterance.rate = 0.8;
            utterance.pitch = 1.1;
            utterance.volume = 1;

            // Mostrar indicador de √°udio
            showAudioIndicator();

            // Event listeners para a utterance
            utterance.onend = function() {
                hideAudioIndicator();
            };

            utterance.onerror = function() {
                hideAudioIndicator();
                console.log('Erro na s√≠ntese de voz');
            };

            // Falar
            speechSynthesis.speak(utterance);
        }

        // Falar mensagem completa
        function speakCurrentMessage() {
            if (currentMessage.length === 0) {
                speakText('NENHUMA MENSAGEM PARA FALAR');
                return;
            }

            const fullMessage = currentMessage.map(symbol => symbol.audio).join(', ');
            speakText(fullMessage);
        }

        // Limpar mensagem
        function clearMessage() {
            currentMessage = [];
            updateMessageDisplay();
            speakText('MENSAGEM LIMPA');
        }

        // Mostrar indicador de √°udio
        function showAudioIndicator() {
            audioIndicator.classList.add('show');
        }

        // Esconder indicador de √°udio
        function hideAudioIndicator() {
            audioIndicator.classList.remove('show');
        }

        // Configurar vozes quando dispon√≠veis
        speechSynthesis.onvoiceschanged = function() {
            const voices = speechSynthesis.getVoices();
            const portugueseVoice = voices.find(voice => voice.lang.includes('pt'));
            if (portugueseVoice) {
                console.log('Voz em portugu√™s encontrada:', portugueseVoice.name);
            }
        };
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98f990b453f6f1bb',t:'MTc2MDYzODc3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
